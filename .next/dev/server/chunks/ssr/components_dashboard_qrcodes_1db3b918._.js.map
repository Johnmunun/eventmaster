{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///H:/React_projets/EventMaster/components/dashboard/qrcodes/create-qrcode-drawer.tsx"],"sourcesContent":["/**\n * Drawer pour cr√©er et personnaliser un QR code\n * Design am√©lior√© avec gradients, animations et g√©n√©ration r√©elle de QR codes\n */\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { QrCode, Palette, Download, Sparkles, X, Loader2, Image as ImageIcon, Folder, Calendar } from 'lucide-react'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ntype CreateQRCodeDrawerProps = {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\ninterface Event {\n  id: string\n  name: string\n  date: string\n}\n\ninterface Folder {\n  id: string\n  name: string\n  color: string\n}\n\nexport function CreateQRCodeDrawer({ open, onOpenChange }: CreateQRCodeDrawerProps) {\n  const router = useRouter()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [isLoadingEvents, setIsLoadingEvents] = useState(false)\n  const [isLoadingFolders, setIsLoadingFolders] = useState(false)\n  const [events, setEvents] = useState<Event[]>([])\n  const [folders, setFolders] = useState<Folder[]>([])\n  const [previewImage, setPreviewImage] = useState<string | null>(null)\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    eventId: \"\",\n    type: \"CUSTOM\",\n    folderId: \"\",\n    color: \"#FF6B35\",\n    backgroundColor: \"#FFFFFF\",\n    customUrl: \"\",\n  })\n\n  // Charger les √©v√©nements et dossiers quand le drawer s'ouvre\n  useEffect(() => {\n    if (open) {\n      fetchEvents()\n      fetchFolders()\n    }\n  }, [open])\n\n  const fetchEvents = async () => {\n    setIsLoadingEvents(true)\n    try {\n      const response = await fetch(\"/api/events/list\")\n      const data = await response.json()\n      if (data.success) {\n        setEvents(data.events)\n      } else {\n        toast.error(\"Erreur\", { description: \"Impossible de charger les √©v√©nements\" })\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des √©v√©nements:\", error)\n    } finally {\n      setIsLoadingEvents(false)\n    }\n  }\n\n  const fetchFolders = async () => {\n    setIsLoadingFolders(true)\n    try {\n      const response = await fetch(\"/api/folders\")\n      const data = await response.json()\n      if (data.success) {\n        setFolders(data.folders)\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des dossiers:\", error)\n    } finally {\n      setIsLoadingFolders(false)\n    }\n  }\n\n  const handleOpenChange = (newOpen: boolean) => {\n    if (!newOpen && !isSubmitting) {\n      setFormData({\n        name: \"\",\n        eventId: \"\",\n        type: \"CUSTOM\",\n        folderId: \"\",\n        color: \"#FF6B35\",\n        backgroundColor: \"#FFFFFF\",\n        customUrl: \"\",\n      })\n      setPreviewImage(null)\n    }\n    onOpenChange(newOpen)\n  }\n\n  const updateField = (field: string, value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (isSubmitting) return\n\n    // Validation\n    if (!formData.name.trim()) {\n      toast.error(\"Erreur de validation\", {\n        description: \"Le nom du QR code est requis\",\n      })\n      return\n    }\n\n    if (formData.type === \"EVENT\" && !formData.eventId) {\n      toast.error(\"Erreur de validation\", {\n        description: \"Veuillez s√©lectionner un √©v√©nement\",\n      })\n      return\n    }\n\n    if (formData.type === \"CUSTOM\" && !formData.customUrl.trim()) {\n      toast.error(\"Erreur de validation\", {\n        description: \"Veuillez saisir une URL personnalis√©e\",\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    const loadingToast = toast.loading(\"G√©n√©ration en cours...\", {\n      description: \"Cr√©ation de votre QR code personnalis√©\",\n    })\n\n    try {\n      const qrCodeData: any = {\n        name: formData.name.trim(),\n        type: formData.type,\n        color: formData.color,\n        backgroundColor: formData.backgroundColor,\n      }\n\n      if (formData.eventId) {\n        qrCodeData.eventId = formData.eventId\n      }\n\n      if (formData.folderId) {\n        qrCodeData.folderId = formData.folderId\n      }\n\n      if (formData.type === \"CUSTOM\" && formData.customUrl) {\n        qrCodeData.data = {\n          url: formData.customUrl.trim(),\n        }\n      }\n\n      const response = await fetch(\"/api/qrcodes\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(qrCodeData),\n      })\n\n      const data = await response.json()\n      toast.dismiss(loadingToast)\n\n      if (!response.ok || !data.success) {\n        const errorMessage = data.error || \"Une erreur est survenue lors de la g√©n√©ration du QR code\"\n        toast.error(\"Erreur\", {\n          description: errorMessage,\n          duration: 5000,\n        })\n        return\n      }\n\n      toast.success(\"QR Code g√©n√©r√© ! üéâ\", {\n        description: `\"${data.qrCode.name}\" a √©t√© cr√©√© avec succ√®s`,\n        duration: 4000,\n      })\n\n      handleOpenChange(false)\n      router.refresh()\n\n    } catch (error) {\n      toast.dismiss(loadingToast)\n      console.error(\"Erreur lors de la g√©n√©ration du QR code:\", error)\n      toast.error(\"Erreur de connexion\", {\n        description: \"Impossible de se connecter au serveur. Veuillez r√©essayer.\",\n        duration: 5000,\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={handleOpenChange}>\n      <SheetContent\n        side=\"right\"\n        className=\"w-full sm:max-w-[600px] p-0 flex flex-col bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 [&>button]:hidden overflow-hidden\"\n      >\n        {/* En-t√™te avec gradient */}\n        <div className=\"relative flex-shrink-0 px-6 py-5 bg-gradient-to-r from-primary/5 via-primary/3 to-accent/5 border-b border-primary/10 dark:from-primary/20 dark:via-primary/10 dark:to-accent/20\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer\" />\n          <div className=\"flex items-start justify-between relative z-10\">\n            <div className=\"space-y-1.5\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"p-2 rounded-lg bg-gradient-to-br from-primary to-accent shadow-lg\">\n                  <QrCode className=\"h-5 w-5 text-white\" />\n                </div>\n                <SheetTitle className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\n                  G√©n√©rer un QR Code\n                </SheetTitle>\n              </div>\n              <SheetDescription className=\"text-sm text-gray-600 dark:text-gray-400 ml-12\">\n                Cr√©ez un QR code personnalis√© avec des options de design avanc√©es\n              </SheetDescription>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-9 w-9 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n              onClick={() => handleOpenChange(false)}\n              disabled={isSubmitting}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Contenu */}\n        <div className=\"flex-1 min-h-0 overflow-y-auto px-6 py-6\">\n          <form id=\"create-qrcode-form\" onSubmit={handleSubmit} className=\"space-y-6\">\n            <Tabs defaultValue=\"content\" className=\"space-y-6\">\n              <TabsList className=\"grid w-full grid-cols-2 h-12 bg-gray-100 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700\">\n                <TabsTrigger \n                  value=\"content\" \n                  className=\"data-[state=active]:bg-white data-[state=active]:dark:bg-gray-900 data-[state=active]:shadow-md transition-all\"\n                >\n                  Contenu\n                </TabsTrigger>\n                <TabsTrigger \n                  value=\"design\" \n                  className=\"data-[state=active]:bg-white data-[state=active]:dark:bg-gray-900 data-[state=active]:shadow-md transition-all\"\n                >\n                  Design\n                </TabsTrigger>\n              </TabsList>\n\n              {/* Onglet Contenu */}\n              <TabsContent value=\"content\" className=\"space-y-6 mt-6\">\n                {/* Section Informations */}\n                <div className=\"space-y-4 p-5 rounded-xl bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-2 border-primary/10 hover:border-primary/20 transition-all duration-300\">\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <div className=\"p-1.5 rounded-lg bg-primary/10\">\n                      <Sparkles className=\"h-4 w-4 text-primary\" />\n                    </div>\n                    <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider\">\n                      Informations\n                    </h3>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qr-name\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200\">\n                      Nom du QR Code *\n                    </Label>\n                    <Input\n                      id=\"qr-name\"\n                      placeholder=\"Ex: QR Mariage Sophie\"\n                      value={formData.name}\n                      onChange={(e) => updateField(\"name\", e.target.value)}\n                      className=\"h-11 text-sm border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200\"\n                      required\n                      disabled={isSubmitting}\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qr-type\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200\">\n                      Type de QR Code *\n                    </Label>\n                    <Select \n                      value={formData.type} \n                      onValueChange={(value) => updateField(\"type\", value)}\n                      disabled={isSubmitting}\n                    >\n                      <SelectTrigger className=\"h-11 border-2 focus:border-primary focus:ring-2 focus:ring-primary/20\">\n                        <SelectValue placeholder=\"S√©lectionnez un type\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"CUSTOM\">üîó Personnalis√© (URL)</SelectItem>\n                        <SelectItem value=\"EVENT\">üìÖ √âv√©nement</SelectItem>\n                        <SelectItem value=\"GUEST\">üë§ Invit√©</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  {formData.type === \"EVENT\" && (\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"qr-event\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2\">\n                        <Calendar className=\"h-4 w-4 text-primary\" />\n                        √âv√©nement associ√© *\n                      </Label>\n                      {isLoadingEvents ? (\n                        <div className=\"h-11 bg-gray-100 dark:bg-gray-800 rounded-md animate-pulse\" />\n                      ) : (\n                        <Select \n                          value={formData.eventId} \n                          onValueChange={(value) => updateField(\"eventId\", value)}\n                          disabled={isSubmitting}\n                        >\n                          <SelectTrigger className=\"h-11 border-2 focus:border-primary focus:ring-2 focus:ring-primary/20\">\n                            <SelectValue placeholder=\"S√©lectionnez un √©v√©nement\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {events.map((event) => (\n                              <SelectItem key={event.id} value={event.id}>\n                                {event.name}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      )}\n                    </div>\n                  )}\n\n                  {formData.type === \"CUSTOM\" && (\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"qr-url\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200\">\n                        URL personnalis√©e *\n                      </Label>\n                      <Input\n                        id=\"qr-url\"\n                        type=\"url\"\n                        placeholder=\"https://example.com\"\n                        value={formData.customUrl}\n                        onChange={(e) => updateField(\"customUrl\", e.target.value)}\n                        className=\"h-11 text-sm border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200\"\n                        required={formData.type === \"CUSTOM\"}\n                        disabled={isSubmitting}\n                      />\n                    </div>\n                  )}\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qr-folder\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2\">\n                      <Folder className=\"h-4 w-4 text-accent\" />\n                      Dossier (optionnel)\n                    </Label>\n                    {isLoadingFolders ? (\n                      <div className=\"h-11 bg-gray-100 dark:bg-gray-800 rounded-md animate-pulse\" />\n                    ) : (\n                      <Select \n                        value={formData.folderId || \"none\"} \n                        onValueChange={(value) => updateField(\"folderId\", value === \"none\" ? \"\" : value)}\n                        disabled={isSubmitting}\n                      >\n                        <SelectTrigger className=\"h-11 border-2 focus:border-primary focus:ring-2 focus:ring-primary/20\">\n                          <SelectValue placeholder=\"Aucun dossier\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"none\">Aucun dossier</SelectItem>\n                          {folders.map((folder) => (\n                            <SelectItem key={folder.id} value={folder.id}>\n                              {folder.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    )}\n                  </div>\n                </div>\n              </TabsContent>\n\n              {/* Onglet Design */}\n              <TabsContent value=\"design\" className=\"space-y-6 mt-6\">\n                {/* Aper√ßu du QR code */}\n                <div className=\"p-5 rounded-xl bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-900/50 border-2 border-primary/10 shadow-lg\">\n                  <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-4 uppercase tracking-wider\">\n                    Aper√ßu\n                  </p>\n                  <div className=\"aspect-square bg-white dark:bg-gray-900 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 flex items-center justify-center shadow-inner\">\n                    {previewImage ? (\n                      <img src={previewImage} alt=\"QR Code Preview\" className=\"w-full h-full object-contain p-4\" />\n                    ) : (\n                      <QrCode className=\"h-48 w-48 text-gray-300 dark:text-gray-600\" />\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"space-y-4 p-5 rounded-xl bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-2 border-accent/10 hover:border-accent/20 transition-all duration-300\">\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <div className=\"p-1.5 rounded-lg bg-accent/10\">\n                      <Palette className=\"h-4 w-4 text-accent\" />\n                    </div>\n                    <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider\">\n                      Personnalisation\n                    </h3>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qr-color\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2\">\n                      <Palette className=\"h-4 w-4 text-primary\" />\n                      Couleur principale\n                    </Label>\n                    <div className=\"flex gap-3\">\n                      <Input\n                        id=\"qr-color\"\n                        type=\"color\"\n                        value={formData.color}\n                        onChange={(e) => updateField(\"color\", e.target.value)}\n                        className=\"w-20 h-11 cursor-pointer border-2 rounded-lg\"\n                        disabled={isSubmitting}\n                      />\n                      <Input\n                        value={formData.color}\n                        onChange={(e) => updateField(\"color\", e.target.value)}\n                        placeholder=\"#FF6B35\"\n                        className=\"flex-1 h-11 border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 font-mono text-sm\"\n                        disabled={isSubmitting}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qr-bg-color\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200\">\n                      Couleur de fond\n                    </Label>\n                    <div className=\"flex gap-3\">\n                      <Input\n                        id=\"qr-bg-color\"\n                        type=\"color\"\n                        value={formData.backgroundColor}\n                        onChange={(e) => updateField(\"backgroundColor\", e.target.value)}\n                        className=\"w-20 h-11 cursor-pointer border-2 rounded-lg\"\n                        disabled={isSubmitting}\n                      />\n                      <Input\n                        value={formData.backgroundColor}\n                        onChange={(e) => updateField(\"backgroundColor\", e.target.value)}\n                        placeholder=\"#FFFFFF\"\n                        className=\"flex-1 h-11 border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 font-mono text-sm\"\n                        disabled={isSubmitting}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </form>\n        </div>\n\n        {/* Footer */}\n        <div className=\"relative flex-shrink-0 border-t border-primary/10 px-6 py-5 bg-gradient-to-r from-white via-primary/5 to-accent/5 dark:from-gray-900 dark:via-primary/10 dark:to-accent/10 backdrop-blur-sm\">\n          <div className=\"flex gap-3 relative z-10\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => handleOpenChange(false)}\n              className=\"flex-1 h-11 text-sm font-semibold border-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200\"\n              disabled={isSubmitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              type=\"submit\"\n              form=\"create-qrcode-form\"\n              className=\"flex-1 h-11 text-sm font-semibold bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg hover:shadow-xl hover:shadow-primary/30 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              disabled={isSubmitting || !formData.name.trim()}\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                  G√©n√©ration...\n                </>\n              ) : (\n                <>\n                  <Download className=\"h-4 w-4 mr-2\" />\n                  G√©n√©rer\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 963, "column": 0}, "map": {"version":3,"sources":["file:///H:/React_projets/EventMaster/components/dashboard/qrcodes/create-folder-drawer.tsx"],"sourcesContent":["/**\n * Drawer de cr√©ation de dossier pour les QR codes\n * Permet d'organiser les QR codes en cat√©gories\n * Design am√©lior√© avec gradients et animations\n */\n\"use client\"\n\nimport { useState } from \"react\"\nimport { X, Save, Folder, Sparkles, Loader2 } from 'lucide-react'\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription } from \"@/components/ui/sheet\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface CreateFolderDrawerProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onFolderCreated?: () => void\n}\n\nconst colors = [\n  { name: \"Violet\", value: \"purple\", class: \"bg-purple-500\", gradient: \"from-purple-400 to-purple-600\" },\n  { name: \"Bleu\", value: \"blue\", class: \"bg-blue-500\", gradient: \"from-blue-400 to-blue-600\" },\n  { name: \"Vert\", value: \"green\", class: \"bg-green-500\", gradient: \"from-green-400 to-green-600\" },\n  { name: \"Orange\", value: \"orange\", class: \"bg-orange-500\", gradient: \"from-orange-400 to-orange-600\" },\n  { name: \"Rouge\", value: \"red\", class: \"bg-red-500\", gradient: \"from-red-400 to-red-600\" },\n  { name: \"Rose\", value: \"pink\", class: \"bg-pink-500\", gradient: \"from-pink-400 to-pink-600\" },\n]\n\nexport function CreateFolderDrawer({ open, onOpenChange, onFolderCreated }: CreateFolderDrawerProps) {\n  const router = useRouter()\n  const [formData, setFormData] = useState({\n    name: \"\",\n    color: \"purple\",\n  })\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const handleOpenChange = (newOpen: boolean) => {\n    if (!newOpen && !isSubmitting) {\n      setFormData({ name: \"\", color: \"purple\" })\n    }\n    onOpenChange(newOpen)\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (isSubmitting || !formData.name.trim()) return\n\n    setIsSubmitting(true)\n    const loadingToast = toast.loading(\"Processus en cours...\", {\n      description: \"Cr√©ation du dossier en cours\",\n    })\n\n    try {\n      const response = await fetch(\"/api/folders\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: formData.name.trim(),\n          color: formData.color,\n        }),\n      })\n\n      const data = await response.json()\n      toast.dismiss(loadingToast)\n\n      if (!response.ok || !data.success) {\n        const errorMessage = data.error || \"Une erreur est survenue lors de la cr√©ation du dossier\"\n        toast.error(\"Erreur\", {\n          description: errorMessage,\n          duration: 5000,\n        })\n        return\n      }\n\n      toast.success(\"Dossier cr√©√© ! üìÅ\", {\n        description: `\"${data.folder.name}\" a √©t√© cr√©√© avec succ√®s`,\n        duration: 4000,\n      })\n\n      handleOpenChange(false)\n      if (onFolderCreated) {\n        onFolderCreated()\n      }\n      router.refresh()\n\n    } catch (error) {\n      toast.dismiss(loadingToast)\n      console.error(\"Erreur lors de la cr√©ation du dossier:\", error)\n      toast.error(\"Erreur de connexion\", {\n        description: \"Impossible de se connecter au serveur. Veuillez r√©essayer.\",\n        duration: 5000,\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const selectedColor = colors.find(c => c.value === formData.color) || colors[0]\n\n  return (\n    <Sheet open={open} onOpenChange={handleOpenChange}>\n      <SheetContent\n        side=\"right\"\n        className=\"w-full sm:max-w-[480px] p-0 flex flex-col bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 [&>button]:hidden overflow-hidden\"\n      >\n        {/* En-t√™te */}\n        <div className=\"relative flex-shrink-0 px-6 py-5 bg-gradient-to-r from-primary/5 via-primary/3 to-accent/5 border-b border-primary/10 dark:from-primary/20 dark:via-primary/10 dark:to-accent/20\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer\" />\n          <div className=\"flex items-start justify-between relative z-10\">\n            <div className=\"space-y-1.5\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"p-2 rounded-lg bg-gradient-to-br from-primary to-accent shadow-lg\">\n                  <Folder className=\"h-5 w-5 text-white\" />\n                </div>\n                <SheetTitle className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\n                  Nouveau dossier\n                </SheetTitle>\n              </div>\n              <SheetDescription className=\"text-sm text-gray-600 dark:text-gray-400 ml-12\">\n                Organisez vos QR codes en cat√©gories\n              </SheetDescription>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-9 w-9 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n              onClick={() => handleOpenChange(false)}\n              disabled={isSubmitting}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Contenu */}\n        <div className=\"flex-1 min-h-0 overflow-y-auto px-6 py-6\">\n          <form id=\"create-folder-form\" onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Nom du dossier */}\n            <div className=\"space-y-4 p-5 rounded-xl bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-2 border-primary/10 hover:border-primary/20 transition-all duration-300\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <div className=\"p-1.5 rounded-lg bg-primary/10\">\n                  <Sparkles className=\"h-4 w-4 text-primary\" />\n                </div>\n                <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider\">\n                  Informations\n                </h3>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"folder-name\" className=\"text-sm font-semibold text-gray-800 dark:text-gray-200\">\n                  Nom du dossier *\n                </Label>\n                <Input\n                  id=\"folder-name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"Ex: Mariages, Concerts, Formations...\"\n                  className=\"h-11 text-sm border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n            </div>\n\n            {/* Couleur */}\n            <div className=\"space-y-4 p-5 rounded-xl bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-2 border-accent/10 hover:border-accent/20 transition-all duration-300\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <div className=\"p-1.5 rounded-lg bg-accent/10\">\n                  <Sparkles className=\"h-4 w-4 text-accent\" />\n                </div>\n                <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider\">\n                  Couleur\n                </h3>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {colors.map((color) => {\n                  const isSelected = formData.color === color.value\n                  return (\n                    <button\n                      key={color.value}\n                      type=\"button\"\n                      onClick={() => setFormData({ ...formData, color: color.value })}\n                      disabled={isSubmitting}\n                      className={`flex items-center gap-3 p-4 rounded-xl border-2 transition-all duration-300 group ${\n                        isSelected\n                          ? 'border-primary bg-primary/10 shadow-lg shadow-primary/20 scale-105'\n                          : 'border-gray-200 dark:border-gray-700 hover:border-primary/30 hover:bg-gray-50 dark:hover:bg-gray-800'\n                      } disabled:opacity-50 disabled:cursor-not-allowed`}\n                    >\n                      <div className={`w-8 h-6 rounded-lg bg-gradient-to-r ${color.gradient} shadow-md group-hover:scale-110 transition-transform`} />\n                      <span className=\"text-sm font-semibold text-gray-900 dark:text-white flex-1 text-left\">\n                        {color.name}\n                      </span>\n                      {isSelected && (\n                        <div className=\"h-5 w-5 rounded-full bg-primary flex items-center justify-center\">\n                          <div className=\"h-2 w-2 rounded-full bg-white\" />\n                        </div>\n                      )}\n                    </button>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Aper√ßu */}\n            <div className=\"p-5 rounded-xl bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-900/50 border-2 border-primary/10 shadow-lg\">\n              <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-4 uppercase tracking-wider\">\n                Aper√ßu du dossier\n              </p>\n              <div className=\"flex items-center gap-4 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-gray-200 dark:border-gray-700 shadow-md\">\n                <div className={`p-4 rounded-xl bg-gradient-to-br ${selectedColor.gradient} border-2 border-white dark:border-gray-800 shadow-lg`}>\n                  <Folder className=\"h-8 w-8 text-white drop-shadow-md\" />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"font-bold text-lg text-gray-900 dark:text-white\">\n                    {formData.name || \"Nom du dossier\"}\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                    0 QR code\n                  </p>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        {/* Footer */}\n        <div className=\"relative flex-shrink-0 border-t border-primary/10 px-6 py-5 bg-gradient-to-r from-white via-primary/5 to-accent/5 dark:from-gray-900 dark:via-primary/10 dark:to-accent/10 backdrop-blur-sm\">\n          <div className=\"flex gap-3 relative z-10\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => handleOpenChange(false)}\n              className=\"flex-1 h-11 text-sm font-semibold border-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200\"\n              disabled={isSubmitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              type=\"submit\"\n              form=\"create-folder-form\"\n              className=\"flex-1 h-11 text-sm font-semibold bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg hover:shadow-xl hover:shadow-primary/30 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              disabled={isSubmitting || !formData.name.trim()}\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                  Cr√©ation...\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  Cr√©er le dossier\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1522, "column": 0}, "map": {"version":3,"sources":["file:///H:/React_projets/EventMaster/components/dashboard/qrcodes/qr-preview-drawer.tsx"],"sourcesContent":["/**\n * Drawer de pr√©visualisation d'un QR code\n * Affiche le QR code en grand avec toutes les informations\n */\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { X, Download, ExternalLink, Loader2, Calendar, Folder, User, QrCode as QrCodeIcon, Sparkles } from 'lucide-react'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { toast } from \"sonner\"\n\ninterface QRPreviewDrawerProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  qrCodeId: string | null\n}\n\ninterface QRCodePreview {\n  id: string\n  code: string\n  name: string\n  type: string\n  url: string\n  imageUrl: string\n  color: string\n  backgroundColor: string\n  scanned: boolean\n  scannedAt: string | null\n  createdAt: string\n  event: {\n    id: string\n    name: string\n    date: string\n    location: string | null\n  } | null\n  folder: {\n    id: string\n    name: string\n    color: string\n  } | null\n  guest: {\n    id: string\n    firstName: string\n    lastName: string\n    email: string | null\n  } | null\n}\n\nexport function QRPreviewDrawer({ open, onOpenChange, qrCodeId }: QRPreviewDrawerProps) {\n  const [qrCode, setQrCode] = useState<QRCodePreview | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isDownloading, setIsDownloading] = useState(false)\n\n  useEffect(() => {\n    if (open && qrCodeId) {\n      fetchQRCode()\n    } else {\n      setQrCode(null)\n    }\n  }, [open, qrCodeId])\n\n  // Ne pas appeler fetchQRCode si qrCodeId est null\n  useEffect(() => {\n    if (!qrCodeId && open) {\n      console.warn(\"QRPreviewDrawer: qrCodeId est null\")\n      toast.error(\"Erreur\", {\n        description: \"Aucun QR code s√©lectionn√©\",\n      })\n      onOpenChange(false)\n    }\n  }, [qrCodeId, open])\n\n  const fetchQRCode = async () => {\n    if (!qrCodeId) {\n      console.warn(\"fetchQRCode: qrCodeId est null\")\n      return\n    }\n\n    setIsLoading(true)\n    try {\n      const url = `/api/qrcodes/${qrCodeId}/preview`\n      console.log(\"Fetching QR code from:\", url)\n      \n      const response = await fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      \n      // V√©rifier si la r√©ponse est OK\n      if (!response.ok) {\n        // Essayer de lire le texte d'abord pour voir ce qui est retourn√©\n        let errorText = \"\"\n        try {\n          errorText = await response.text()\n          // Essayer de parser comme JSON si possible\n          try {\n            const errorJson = JSON.parse(errorText)\n            toast.error(\"Erreur\", {\n              description: errorJson.error || `Erreur ${response.status}`,\n            })\n          } catch {\n            // Ce n'est pas du JSON, utiliser le texte brut\n            toast.error(\"Erreur\", {\n              description: errorText || `Erreur ${response.status}: Impossible de charger le QR code`,\n            })\n          }\n        } catch (textError) {\n          toast.error(\"Erreur\", {\n            description: `Erreur ${response.status}: Impossible de charger le QR code`,\n          })\n        }\n        onOpenChange(false)\n        return\n      }\n\n      // Parser le JSON seulement si la r√©ponse est OK\n      const contentType = response.headers.get(\"content-type\")\n      if (!contentType || !contentType.includes(\"application/json\")) {\n        const text = await response.text()\n        console.error(\"R√©ponse n'est pas du JSON:\", text.substring(0, 100))\n        toast.error(\"Erreur\", {\n          description: \"Format de r√©ponse invalide\",\n        })\n        onOpenChange(false)\n        return\n      }\n\n      const data = await response.json()\n\n      if (data.success) {\n        console.log(\"QR Code charg√©:\", data.qrCode)\n        console.log(\"Image URL:\", data.qrCode.imageUrl)\n        setQrCode(data.qrCode)\n      } else {\n        toast.error(\"Erreur\", {\n          description: data.error || \"Impossible de charger le QR code\",\n        })\n        onOpenChange(false)\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement:\", error)\n      toast.error(\"Erreur\", {\n        description: error instanceof Error ? error.message : \"Une erreur est survenue lors du chargement\",\n      })\n      onOpenChange(false)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleDownload = async () => {\n    if (!qrCodeId) return\n\n    setIsDownloading(true)\n    try {\n      const response = await fetch(`/api/qrcodes/${qrCodeId}/download`)\n      \n      if (!response.ok) {\n        const data = await response.json()\n        toast.error(\"Erreur\", {\n          description: data.error || \"Impossible de t√©l√©charger le QR code\",\n        })\n        return\n      }\n\n      // Si c'est une redirection, ouvrir dans un nouvel onglet\n      if (response.redirected) {\n        window.open(response.url, '_blank')\n        toast.success(\"T√©l√©chargement\", {\n          description: \"Le t√©l√©chargement a commenc√©\",\n        })\n      } else {\n        // Si c'est un fichier, le t√©l√©charger\n        const blob = await response.blob()\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `${qrCode?.name || 'qrcode'}.png`\n        document.body.appendChild(a)\n        a.click()\n        window.URL.revokeObjectURL(url)\n        document.body.removeChild(a)\n        \n        toast.success(\"T√©l√©chargement\", {\n          description: \"Le QR code a √©t√© t√©l√©charg√© avec succ√®s\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du t√©l√©chargement:\", error)\n      toast.error(\"Erreur\", {\n        description: \"Une erreur est survenue lors du t√©l√©chargement\",\n      })\n    } finally {\n      setIsDownloading(false)\n    }\n  }\n\n  const getTypeLabel = (type: string) => {\n    switch (type) {\n      case \"GUEST\":\n        return \"Invit√©\"\n      case \"EVENT\":\n        return \"√âv√©nement\"\n      case \"CUSTOM\":\n        return \"Personnalis√©\"\n      default:\n        return type\n    }\n  }\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case \"GUEST\":\n        return \"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400\"\n      case \"EVENT\":\n        return \"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400\"\n      case \"CUSTOM\":\n        return \"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400\"\n      default:\n        return \"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400\"\n    }\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent\n        side=\"right\"\n        className=\"w-full sm:max-w-[600px] p-0 flex flex-col bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 [&>button]:hidden overflow-hidden overflow-x-hidden\"\n      >\n        {/* En-t√™te avec gradient */}\n        <div className=\"relative flex-shrink-0 px-6 py-5 bg-gradient-to-r from-primary/5 via-primary/3 to-accent/5 border-b border-primary/10 dark:from-primary/20 dark:via-primary/10 dark:to-accent/20\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer\" />\n          <div className=\"flex items-start justify-between relative z-10\">\n            <div className=\"space-y-1.5\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"p-2 rounded-lg bg-gradient-to-br from-primary to-accent shadow-lg\">\n                  <QrCodeIcon className=\"h-5 w-5 text-white\" />\n                </div>\n                <SheetTitle className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\n                  Pr√©visualisation\n                </SheetTitle>\n              </div>\n              <SheetDescription className=\"text-sm text-gray-600 dark:text-gray-400 ml-12\">\n                Visualisez et t√©l√©chargez votre QR code\n              </SheetDescription>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => onOpenChange(false)}\n              className=\"h-9 w-9 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Contenu scrollable */}\n        <div className=\"flex-1 min-h-0 overflow-y-auto overflow-x-hidden px-6 py-6\">\n\n          {isLoading ? (\n            <div className=\"space-y-4\">\n              <Skeleton className=\"w-full aspect-square rounded-lg\" />\n              <Skeleton className=\"h-20 w-full\" />\n            </div>\n          ) : qrCode ? (\n            <div className=\"space-y-6\">\n              {/* Image du QR code */}\n              <div className=\"relative flex justify-center\">\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-primary/10 p-4 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow max-w-[280px] w-full min-h-[280px]\">\n                  {qrCode.imageUrl ? (\n                    <img\n                      src={qrCode.imageUrl}\n                      alt={qrCode.name}\n                      className=\"w-full h-auto object-contain max-w-full max-h-[250px]\"\n                      onError={(e) => {\n                        console.error(\"Erreur de chargement de l'image:\", qrCode.imageUrl)\n                        // Afficher le fallback si l'image ne charge pas\n                        const target = e.currentTarget\n                        target.style.display = 'none'\n                        const fallback = target.nextElementSibling as HTMLElement\n                        if (fallback) {\n                          fallback.style.display = 'flex'\n                        }\n                      }}\n                    />\n                  ) : null}\n                  <div className={`${qrCode.imageUrl ? 'hidden' : 'flex'} items-center justify-center w-full h-full`}>\n                    <div className=\"text-center\">\n                      <QrCodeIcon className=\"h-32 w-32 text-gray-300 dark:text-gray-600 mx-auto mb-2\" />\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">Image non disponible</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Informations */}\n              <div className=\"space-y-4 p-5 rounded-xl bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-900 dark:to-gray-800/50 border-2 border-primary/10 shadow-lg\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <div className=\"p-1.5 rounded-lg bg-primary/10\">\n                    <Sparkles className=\"h-4 w-4 text-primary\" />\n                  </div>\n                  <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider\">\n                    Informations\n                  </h3>\n                </div>\n                \n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                      {qrCode.name}\n                    </h3>\n                    <div className=\"flex gap-2 flex-wrap\">\n                      <Badge className={getTypeColor(qrCode.type)}>\n                        {getTypeLabel(qrCode.type)}\n                      </Badge>\n                      {qrCode.scanned && (\n                        <Badge className=\"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400\">\n                          Scann√©\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                {qrCode.event && (\n                  <div className=\"flex items-start gap-2\">\n                    <Calendar className=\"h-5 w-5 text-primary mt-0.5 flex-shrink-0\" />\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">√âv√©nement</p>\n                      <p className=\"text-sm text-gray-900 dark:text-white\">{qrCode.event.name}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {new Date(qrCode.event.date).toLocaleDateString(\"fr-FR\", {\n                          day: \"numeric\",\n                          month: \"long\",\n                          year: \"numeric\",\n                        })}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {qrCode.folder && (\n                  <div className=\"flex items-start gap-2\">\n                    <Folder className=\"h-5 w-5 text-accent mt-0.5 flex-shrink-0\" />\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Dossier</p>\n                      <p className=\"text-sm text-gray-900 dark:text-white\">{qrCode.folder.name}</p>\n                    </div>\n                  </div>\n                )}\n\n                {qrCode.guest && (\n                  <div className=\"flex items-start gap-2\">\n                    <User className=\"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0\" />\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Invit√©</p>\n                      <p className=\"text-sm text-gray-900 dark:text-white\">\n                        {qrCode.guest.firstName} {qrCode.guest.lastName}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"flex items-start gap-2\">\n                  <QrCodeIcon className=\"h-5 w-5 text-gray-600 mt-0.5 flex-shrink-0\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Code</p>\n                    <p className=\"text-sm text-gray-900 dark:text-white font-mono break-all word-break break-words\">{qrCode.code}</p>\n                  </div>\n                </div>\n                </div>\n              </div>\n\n              {qrCode.url && (\n                <div className=\"p-5 rounded-xl bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-900 dark:to-gray-800/50 border-2 border-primary/10 shadow-lg\">\n                  <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">URL encod√©e</p>\n                  <div className=\"flex items-center gap-2 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg\">\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 font-mono flex-1 truncate\">\n                      {qrCode.url}\n                    </p>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => window.open(qrCode.url, '_blank')}\n                    >\n                      <ExternalLink className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500 dark:text-gray-400\">Aucun QR code √† afficher</p>\n            </div>\n          )}\n        </div>\n\n        {/* Footer avec actions */}\n        {qrCode && (\n          <div className=\"relative flex-shrink-0 border-t border-primary/10 px-6 py-5 bg-gradient-to-r from-white via-primary/5 to-accent/5 dark:from-gray-900 dark:via-primary/10 dark:to-accent/10 backdrop-blur-sm\">\n            <div className=\"flex gap-3 relative z-10\">\n              <Button\n                onClick={handleDownload}\n                disabled={isDownloading}\n                className=\"flex-1 gap-2 h-11 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg hover:shadow-xl hover:shadow-primary/30 transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              >\n                {isDownloading ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    T√©l√©chargement...\n                  </>\n                ) : (\n                  <>\n                    <Download className=\"h-4 w-4\" />\n                    T√©l√©charger\n                  </>\n                )}\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                className=\"flex-1 h-11 border-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200\"\n              >\n                Fermer\n              </Button>\n            </div>\n          </div>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":["file:///H:/React_projets/EventMaster/components/dashboard/qrcodes/qr-generator-drawer.tsx"],"sourcesContent":["/**\r\n * G√©n√©rateur QR dynamique multi-√©tapes\r\n * Similaire √† online-qr-generator.com\r\n * Supporte: URL, PDF, Images, Vid√©o, Texte, Carte d'invit√©, WhatsApp, R√©seaux sociaux\r\n */\r\n\"use client\"\r\n\r\nimport { useState, useEffect, useCallback } from \"react\"\r\nimport { TemplateBuilder } from \"@/components/qr-templates/template-builder\"\r\nimport { useQRTemplateStore, TemplateType } from \"@/lib/stores/qr-template-store\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { z } from \"zod\"\r\nimport { \r\n  X, \r\n  ArrowRight, \r\n  ArrowLeft, \r\n  QrCode,\r\n  Plus, \r\n  Link, \r\n  FileText, \r\n  Image as ImageIcon, \r\n  Video, \r\n  Type, \r\n  User, \r\n  MessageCircle, \r\n  Share2,\r\n  Palette,\r\n  Upload,\r\n  Loader2,\r\n  Sparkles,\r\n  Check,\r\n  Circle,\r\n  Square,\r\n  Shapes,\r\n  Utensils,\r\n  Wifi,\r\n  Calendar,\r\n  CreditCard,\r\n  Music,\r\n  Image,\r\n  MessageSquare,\r\n  Radio,\r\n  Mail,\r\n  Phone,\r\n  Building,\r\n  MapPin,\r\n  Bitcoin,\r\n  Ticket\r\n} from 'lucide-react'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from \"@/components/ui/sheet\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { toast } from \"sonner\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\ntype QRGeneratorDrawerProps = {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  onQRCodeCreated?: () => void\r\n}\r\n\r\ntype QRType = \r\n  | \"URL\" \r\n  | \"PDF\" \r\n  | \"IMAGE\" \r\n  | \"VIDEO\" \r\n  | \"TEXT\" \r\n  | \"GUEST_CARD\" \r\n  | \"WHATSAPP\" \r\n  | \"SOCIAL\"\r\n  | \"MENU\"\r\n  | \"WIFI\"\r\n  | \"PROGRAM\"\r\n  | \"VCARD\"\r\n  | \"COUPON\"\r\n  | \"PLAYLIST\"\r\n  | \"GALLERY\"\r\n  | \"FEEDBACK\"\r\n  | \"LIVE_STREAM\"\r\n  | \"EMAIL\"\r\n  | \"SMS\"\r\n  | \"LOCATION\"\r\n  | \"PHONE\"\r\n  | \"BITCOIN\"\r\n  | \"EVENTBRITE\"\r\n\r\ninterface QRTypeOption {\r\n  id: QRType\r\n  label: string\r\n  icon: React.ReactNode\r\n  description: string\r\n  color: string\r\n}\r\n\r\nconst QR_TYPES: QRTypeOption[] = [\r\n  // TYPES √âV√âNEMENTIELS (en premier, affich√©s par 3)\r\n  {\r\n    id: \"EVENTBRITE\",\r\n    label: \"Billet √âv√©nement\",\r\n    icon: <Ticket className=\"h-6 w-6\" />,\r\n    description: \"Ticket pour √©v√©nement\",\r\n    color: \"from-purple-500 to-purple-600\"\r\n  },\r\n  {\r\n    id: \"GUEST_CARD\",\r\n    label: \"Carte d'invit√©\",\r\n    icon: <User className=\"h-6 w-6\" />,\r\n    description: \"Nom + Table (mariages)\",\r\n    color: \"from-orange-500 to-orange-600\"\r\n  },\r\n  {\r\n    id: \"PROGRAM\",\r\n    label: \"Programme\",\r\n    icon: <Calendar className=\"h-6 w-6\" />,\r\n    description: \"Programme de l'√©v√©nement\",\r\n    color: \"from-rose-500 to-rose-600\"\r\n  },\r\n  {\r\n    id: \"MENU\",\r\n    label: \"Menu\",\r\n    icon: <Utensils className=\"h-6 w-6\" />,\r\n    description: \"Menu du repas\",\r\n    color: \"from-amber-500 to-amber-600\"\r\n  },\r\n  {\r\n    id: \"LIVE_STREAM\",\r\n    label: \"Live Stream\",\r\n    icon: <Radio className=\"h-6 w-6\" />,\r\n    description: \"Diffusion en direct\",\r\n    color: \"from-red-500 to-red-600\"\r\n  },\r\n  {\r\n    id: \"GALLERY\",\r\n    label: \"Galerie\",\r\n    icon: <Image className=\"h-6 w-6\" />,\r\n    description: \"Galerie photo\",\r\n    color: \"from-fuchsia-500 to-fuchsia-600\"\r\n  },\r\n  {\r\n    id: \"FEEDBACK\",\r\n    label: \"Feedback\",\r\n    icon: <MessageSquare className=\"h-6 w-6\" />,\r\n    description: \"Formulaire de satisfaction\",\r\n    color: \"from-lime-500 to-lime-600\"\r\n  },\r\n  {\r\n    id: \"COUPON\",\r\n    label: \"Coupon\",\r\n    icon: <CreditCard className=\"h-6 w-6\" />,\r\n    description: \"Code promo/R√©duction\",\r\n    color: \"from-yellow-500 to-yellow-600\"\r\n  },\r\n  {\r\n    id: \"PLAYLIST\",\r\n    label: \"Playlist\",\r\n    icon: <Music className=\"h-6 w-6\" />,\r\n    description: \"Playlist musicale\",\r\n    color: \"from-violet-500 to-violet-600\"\r\n  },\r\n  // AUTRES TYPES\r\n  {\r\n    id: \"SOCIAL\",\r\n    label: \"R√©seaux sociaux\",\r\n    icon: <Share2 className=\"h-6 w-6\" />,\r\n    description: \"YouTube, Instagram, Facebook\",\r\n    color: \"from-indigo-500 to-indigo-600\"\r\n  },\r\n  {\r\n    id: \"WIFI\",\r\n    label: \"Wi-Fi\",\r\n    icon: <Wifi className=\"h-6 w-6\" />,\r\n    description: \"Connexion Wi-Fi\",\r\n    color: \"from-cyan-500 to-cyan-600\"\r\n  },\r\n  {\r\n    id: \"VCARD\",\r\n    label: \"vCard\",\r\n    icon: <User className=\"h-6 w-6\" />,\r\n    description: \"Carte de visite\",\r\n    color: \"from-teal-500 to-teal-600\"\r\n  },\r\n  {\r\n    id: \"URL\",\r\n    label: \"URL\",\r\n    icon: <Link className=\"h-6 w-6\" />,\r\n    description: \"Lien vers un site web\",\r\n    color: \"from-blue-500 to-blue-600\"\r\n  },\r\n  {\r\n    id: \"PDF\",\r\n    label: \"PDF\",\r\n    icon: <FileText className=\"h-6 w-6\" />,\r\n    description: \"Document PDF\",\r\n    color: \"from-red-500 to-red-600\"\r\n  },\r\n  {\r\n    id: \"IMAGE\",\r\n    label: \"Images\",\r\n    icon: <ImageIcon className=\"h-6 w-6\" />,\r\n    description: \"Une ou plusieurs images\",\r\n    color: \"from-purple-500 to-purple-600\"\r\n  },\r\n  {\r\n    id: \"VIDEO\",\r\n    label: \"Vid√©o\",\r\n    icon: <Video className=\"h-6 w-6\" />,\r\n    description: \"Lien vers une vid√©o\",\r\n    color: \"from-pink-500 to-pink-600\"\r\n  },\r\n  {\r\n    id: \"TEXT\",\r\n    label: \"Texte\",\r\n    icon: <Type className=\"h-6 w-6\" />,\r\n    description: \"Texte personnalis√©\",\r\n    color: \"from-green-500 to-green-600\"\r\n  },\r\n  {\r\n    id: \"WHATSAPP\",\r\n    label: \"WhatsApp\",\r\n    icon: <MessageCircle className=\"h-6 w-6\" />,\r\n    description: \"Num√©ro WhatsApp\",\r\n    color: \"from-emerald-500 to-emerald-600\"\r\n  },\r\n  {\r\n    id: \"EMAIL\",\r\n    label: \"Email\",\r\n    icon: <Mail className=\"h-6 w-6\" />,\r\n    description: \"Adresse email\",\r\n    color: \"from-blue-500 to-blue-600\"\r\n  },\r\n  {\r\n    id: \"SMS\",\r\n    label: \"SMS\",\r\n    icon: <MessageCircle className=\"h-6 w-6\" />,\r\n    description: \"Message texte\",\r\n    color: \"from-green-500 to-green-600\"\r\n  },\r\n  {\r\n    id: \"LOCATION\",\r\n    label: \"Localisation\",\r\n    icon: <MapPin className=\"h-6 w-6\" />,\r\n    description: \"Coordonn√©es GPS\",\r\n    color: \"from-red-500 to-red-600\"\r\n  },\r\n  {\r\n    id: \"PHONE\",\r\n    label: \"T√©l√©phone\",\r\n    icon: <Phone className=\"h-6 w-6\" />,\r\n    description: \"Num√©ro de t√©l√©phone\",\r\n    color: \"from-teal-500 to-teal-600\"\r\n  },\r\n  {\r\n    id: \"BITCOIN\",\r\n    label: \"Bitcoin\",\r\n    icon: <Bitcoin className=\"h-6 w-6\" />,\r\n    description: \"Adresse Bitcoin\",\r\n    color: \"from-orange-500 to-orange-600\"\r\n  },\r\n]\r\n\r\n// Sch√©mas de validation par type\r\nconst urlSchema = z.object({\r\n  url: z.string().url(\"URL invalide\").min(1, \"L'URL est requise\"),\r\n})\r\n\r\nconst pdfSchema = z.object({\r\n  pdfFile: z.instanceof(File, { message: \"Un fichier PDF est requis\" }),\r\n})\r\n\r\nconst imageSchema = z.object({\r\n  images: z.array(z.instanceof(File)).min(1, \"Au moins une image est requise\"),\r\n})\r\n\r\nconst videoSchema = z.object({\r\n  videoUrl: z.string().url(\"URL vid√©o invalide\").min(1, \"L'URL vid√©o est requise\"),\r\n})\r\n\r\nconst textSchema = z.object({\r\n  text: z.string().min(1, \"Le texte est requis\").max(1000, \"Texte trop long\"),\r\n})\r\n\r\nconst guestCardSchema = z.object({\r\n  firstName: z.string().min(1, \"Le pr√©nom est requis\"),\r\n  lastName: z.string().min(1, \"Le nom est requis\"),\r\n  table: z.string().min(1, \"Le num√©ro de table est requis\"),\r\n})\r\n\r\nconst whatsappSchema = z.object({\r\n  phone: z.string().regex(/^\\+?[1-9]\\d{1,14}$/, \"Num√©ro de t√©l√©phone invalide\"),\r\n  message: z.string().optional(),\r\n})\r\n\r\nconst socialSchema = z.object({\r\n  platform: z.enum([\"facebook\", \"instagram\", \"twitter\", \"linkedin\", \"youtube\", \"tiktok\"]),\r\n  username: z.string().min(1, \"Le nom d'utilisateur est requis\"),\r\n})\r\n\r\n// Sch√©mas √©v√©nementiels\r\nconst menuSchema = z.object({\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  items: z.array(z.object({\r\n    name: z.string().min(1, \"Le nom du plat est requis\"),\r\n    description: z.string().optional(),\r\n    price: z.string().optional(),\r\n    allergens: z.string().optional(),\r\n  })).min(1, \"Au moins un plat est requis\"),\r\n})\r\n\r\nconst wifiSchema = z.object({\r\n  ssid: z.string().min(1, \"Le nom du r√©seau est requis\"),\r\n  password: z.string().min(1, \"Le mot de passe est requis\"),\r\n  security: z.enum([\"WPA\", \"WPA2\", \"WEP\", \"nopass\"]).default(\"WPA2\"),\r\n  hidden: z.boolean().default(false),\r\n})\r\n\r\nconst programSchema = z.object({\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  events: z.array(z.object({\r\n    time: z.string().min(1, \"L'heure est requise\"),\r\n    title: z.string().min(1, \"Le titre est requis\"),\r\n    description: z.string().optional(),\r\n    location: z.string().optional(),\r\n  })).min(1, \"Au moins un √©v√©nement est requis\"),\r\n})\r\n\r\nconst vcardSchema = z.object({\r\n  firstName: z.string().min(1, \"Le pr√©nom est requis\"),\r\n  lastName: z.string().min(1, \"Le nom est requis\"),\r\n  organization: z.string().optional(),\r\n  title: z.string().optional(),\r\n  email: z.string().email(\"Email invalide\").optional(),\r\n  phone: z.string().optional(),\r\n  website: z.string().url(\"URL invalide\").optional(),\r\n  address: z.string().optional(),\r\n})\r\n\r\nconst couponSchema = z.object({\r\n  code: z.string().min(1, \"Le code est requis\"),\r\n  discount: z.string().min(1, \"La r√©duction est requise\"),\r\n  type: z.enum([\"percentage\", \"amount\"]).default(\"percentage\"),\r\n  expiresAt: z.string().optional(),\r\n  description: z.string().optional(),\r\n})\r\n\r\nconst playlistSchema = z.object({\r\n  platform: z.enum([\"spotify\", \"youtube\", \"apple\", \"custom\"]),\r\n  url: z.string().url(\"URL invalide\").optional(),\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  allowSuggestions: z.boolean().default(false),\r\n})\r\n\r\nconst gallerySchema = z.object({\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  allowUpload: z.boolean().default(false),\r\n  images: z.array(z.instanceof(File)).optional(),\r\n})\r\n\r\nconst feedbackSchema = z.object({\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  questions: z.array(z.object({\r\n    question: z.string().min(1, \"La question est requise\"),\r\n    type: z.enum([\"rating\", \"text\", \"choice\"]).default(\"rating\"),\r\n  })).min(1, \"Au moins une question est requise\"),\r\n})\r\n\r\nconst liveStreamSchema = z.object({\r\n  platform: z.enum([\"youtube\", \"zoom\", \"teams\", \"custom\"]),\r\n  url: z.string().url(\"URL invalide\").min(1, \"L'URL est requise\"),\r\n  title: z.string().min(1, \"Le titre est requis\"),\r\n  instructions: z.string().optional(),\r\n})\r\n\r\nconst emailSchema = z.object({\r\n  email: z.string().email(\"Email invalide\").min(1, \"L'email est requis\"),\r\n  subject: z.string().optional(),\r\n  body: z.string().optional(),\r\n})\r\n\r\nconst smsSchema = z.object({\r\n  phone: z.string().min(1, \"Le num√©ro de t√©l√©phone est requis\"),\r\n  message: z.string().optional(),\r\n})\r\n\r\nconst locationSchema = z.object({\r\n  latitude: z.string().min(1, \"La latitude est requise\"),\r\n  longitude: z.string().min(1, \"La longitude est requise\"),\r\n  name: z.string().optional(),\r\n})\r\n\r\nconst phoneSchema = z.object({\r\n  phone: z.string().min(1, \"Le num√©ro de t√©l√©phone est requis\"),\r\n})\r\n\r\nconst bitcoinSchema = z.object({\r\n  address: z.string().min(1, \"L'adresse Bitcoin est requise\"),\r\n  amount: z.string().optional(),\r\n  label: z.string().optional(),\r\n  message: z.string().optional(),\r\n})\r\n\r\nconst eventbriteSchema = z.object({\r\n  url: z.string().url(\"URL invalide\").min(1, \"L'URL de l'√©v√©nement est requise\"),\r\n})\r\n\r\nconst customizationSchema = z.object({\r\n  name: z.string().min(1, \"Le nom est requis\").max(100, \"Nom trop long\"),\r\n  folderId: z.string().optional(),\r\n  color: z.string().regex(/^#[0-9A-Fa-f]{6}$/, \"Couleur invalide\").default(\"#000000\"),\r\n  backgroundColor: z.string().regex(/^#[0-9A-Fa-f]{6}$/, \"Couleur invalide\").default(\"#FFFFFF\"),\r\n  logoFile: z.instanceof(File).optional(),\r\n  pixelShape: z.enum([\"square\", \"round\", \"mixed\"]).default(\"square\"),\r\n})\r\n\r\nexport function QRGeneratorDrawer({ open, onOpenChange, onQRCodeCreated }: QRGeneratorDrawerProps) {\r\n  const router = useRouter()\r\n  const [step, setStep] = useState(1)\r\n  const [selectedType, setSelectedType] = useState<QRType | null>(null)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [useTemplateSystem, setUseTemplateSystem] = useState(false)\r\n  const [qrPreview, setQrPreview] = useState<string | null>(null)\r\n  const [logoPreview, setLogoPreview] = useState<string | null>(null)\r\n  const [folders, setFolders] = useState<Array<{ id: string; name: string }>>([])\r\n  const [landingPageConfig, setLandingPageConfig] = useState({\r\n    backgroundColor: \"#527AC9\",\r\n    textColor: \"#FFFFFF\",\r\n    showPhone: false,\r\n    showEmail: false,\r\n    showSocial: false,\r\n    showLocation: false,\r\n    phone: \"\",\r\n    email: \"\",\r\n    location: \"\",\r\n    socialLinks: [] as Array<{ platform: string; url: string }>,\r\n    profileImage: null as string | null,\r\n    name: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n  })\r\n\r\n  // Formulaires par √©tape\r\n  const contentForm = useForm<any>({\r\n    resolver: zodResolver(\r\n      selectedType === \"URL\" ? urlSchema :\r\n      selectedType === \"PDF\" ? pdfSchema :\r\n      selectedType === \"IMAGE\" ? imageSchema :\r\n      selectedType === \"VIDEO\" ? videoSchema :\r\n      selectedType === \"TEXT\" ? textSchema :\r\n      selectedType === \"GUEST_CARD\" ? guestCardSchema :\r\n      selectedType === \"WHATSAPP\" ? whatsappSchema :\r\n      selectedType === \"SOCIAL\" ? socialSchema :\r\n      selectedType === \"MENU\" ? menuSchema :\r\n      selectedType === \"WIFI\" ? wifiSchema :\r\n      selectedType === \"PROGRAM\" ? programSchema :\r\n      selectedType === \"VCARD\" ? vcardSchema :\r\n      selectedType === \"COUPON\" ? couponSchema :\r\n      selectedType === \"PLAYLIST\" ? playlistSchema :\r\n      selectedType === \"GALLERY\" ? gallerySchema :\r\n      selectedType === \"FEEDBACK\" ? feedbackSchema :\r\n      selectedType === \"LIVE_STREAM\" ? liveStreamSchema :\r\n      selectedType === \"EMAIL\" ? emailSchema :\r\n      selectedType === \"SMS\" ? smsSchema :\r\n      selectedType === \"LOCATION\" ? locationSchema :\r\n      selectedType === \"PHONE\" ? phoneSchema :\r\n      selectedType === \"BITCOIN\" ? bitcoinSchema :\r\n      selectedType === \"EVENTBRITE\" ? eventbriteSchema :\r\n      z.object({})\r\n    ),\r\n  })\r\n\r\n  const customizationForm = useForm({\r\n    resolver: zodResolver(customizationSchema),\r\n    defaultValues: {\r\n      name: \"\",\r\n      folderId: \"\",\r\n      color: \"#000000\",\r\n      backgroundColor: \"#FFFFFF\",\r\n      pixelShape: \"square\" as const,\r\n    },\r\n  })\r\n\r\n  // Charger les dossiers\r\n  useEffect(() => {\r\n    if (open) {\r\n      fetchFolders()\r\n    }\r\n  }, [open])\r\n\r\n  const fetchFolders = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/folders\")\r\n      const data = await response.json()\r\n      if (data.success) {\r\n        setFolders(data.folders)\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur lors du chargement des dossiers:\", error)\r\n    }\r\n  }\r\n\r\n  // R√©initialiser quand le drawer se ferme\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setStep(1)\r\n      setSelectedType(null)\r\n      setQrPreview(null)\r\n      setLogoPreview(null)\r\n      contentForm.reset()\r\n      customizationForm.reset()\r\n    }\r\n  }, [open])\r\n\r\n  // G√©rer l'upload du logo pour pr√©visualisation\r\n  const handleLogoUpload = (file: File) => {\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      toast.error(\"Le fichier est trop volumineux (max 5Mo)\")\r\n      return\r\n    }\r\n    \r\n    // Cr√©er une preview locale (base64)\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      const result = e.target?.result as string\r\n      setLogoPreview(result)\r\n      customizationForm.setValue(\"logoFile\", file)\r\n    }\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  // G√©n√©rer la preview du QR code avec logo\r\n  const generatePreview = useCallback(async () => {\r\n    if (!selectedType) return\r\n\r\n    const contentData = contentForm.getValues()\r\n    const customData = customizationForm.getValues()\r\n\r\n    // Construire les donn√©es selon le type\r\n    let qrData = \"\"\r\n    \r\n    switch (selectedType) {\r\n      case \"URL\":\r\n        qrData = contentData.url || \"\"\r\n        break\r\n      case \"PDF\":\r\n        // Pour PDF, on g√©n√®re un QR code qui pointe vers l'URL du PDF upload√©\r\n        // En production, il faudrait uploader le PDF d'abord\r\n        qrData = \"https://example.com/pdf-placeholder\"\r\n        break\r\n      case \"IMAGE\":\r\n        // Pour images, on g√©n√®re un QR code qui pointe vers une galerie\r\n        qrData = \"https://example.com/gallery-placeholder\"\r\n        break\r\n      case \"VIDEO\":\r\n        qrData = contentData.videoUrl || \"\"\r\n        break\r\n      case \"TEXT\":\r\n        qrData = contentData.text || \"\"\r\n        break\r\n      case \"GUEST_CARD\":\r\n        qrData = JSON.stringify({\r\n          firstName: contentData.firstName,\r\n          lastName: contentData.lastName,\r\n          table: contentData.table,\r\n        })\r\n        break\r\n      case \"WHATSAPP\":\r\n        const whatsappMessage = contentData.message ? encodeURIComponent(contentData.message) : \"\"\r\n        qrData = `https://wa.me/${contentData.phone.replace(/\\D/g, \"\")}${whatsappMessage ? `?text=${whatsappMessage}` : \"\"}`\r\n        break\r\n      case \"SOCIAL\":\r\n        const socialUrls: Record<string, string> = {\r\n          facebook: `https://facebook.com/${contentData.username}`,\r\n          instagram: `https://instagram.com/${contentData.username}`,\r\n          twitter: `https://twitter.com/${contentData.username}`,\r\n          linkedin: `https://linkedin.com/in/${contentData.username}`,\r\n          youtube: `https://youtube.com/@${contentData.username}`,\r\n          tiktok: `https://tiktok.com/@${contentData.username}`,\r\n        }\r\n        qrData = socialUrls[contentData.platform] || \"\"\r\n        break\r\n      case \"MENU\":\r\n        // Pour le menu, on g√©n√®re une URL vers une page de menu\r\n        qrData = `${process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\"}/menu/${Date.now()}`\r\n        break\r\n      case \"WIFI\":\r\n        // Format Wi-Fi: WIFI:T:WPA2;S:SSID;P:Password;;\r\n        const security = contentData.security || \"WPA2\"\r\n        const ssid = contentData.ssid || \"\"\r\n        const password = contentData.password || \"\"\r\n        qrData = `WIFI:T:${security};S:${ssid};P:${password};;`\r\n        break\r\n      case \"PROGRAM\":\r\n        // Pour le programme, on g√©n√®re une URL vers une page de programme\r\n        qrData = `${process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\"}/program/${Date.now()}`\r\n        break\r\n      case \"VCARD\":\r\n        // Format vCard\r\n        const vcard = [\r\n          \"BEGIN:VCARD\",\r\n          \"VERSION:3.0\",\r\n          `FN:${contentData.firstName || \"\"} ${contentData.lastName || \"\"}`,\r\n          `N:${contentData.lastName || \"\"};${contentData.firstName || \"\"};;;`,\r\n          contentData.organization ? `ORG:${contentData.organization}` : \"\",\r\n          contentData.title ? `TITLE:${contentData.title}` : \"\",\r\n          contentData.email ? `EMAIL:${contentData.email}` : \"\",\r\n          contentData.phone ? `TEL:${contentData.phone}` : \"\",\r\n          contentData.website ? `URL:${contentData.website}` : \"\",\r\n          contentData.address ? `ADR:;;${contentData.address};;;;` : \"\",\r\n          \"END:VCARD\"\r\n        ].filter(Boolean).join(\"\\n\")\r\n        qrData = vcard\r\n        break\r\n      case \"COUPON\":\r\n        // Pour le coupon, on g√©n√®re une URL vers une page de coupon\r\n        qrData = `${process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\"}/coupon/${contentData.code || Date.now()}`\r\n        break\r\n      case \"PLAYLIST\":\r\n        qrData = contentData.url || \"\"\r\n        break\r\n      case \"GALLERY\":\r\n        // Pour la galerie, on g√©n√®re une URL vers une page de galerie\r\n        qrData = `${process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\"}/gallery/${Date.now()}`\r\n        break\r\n      case \"FEEDBACK\":\r\n        // Pour le feedback, on g√©n√®re une URL vers un formulaire\r\n        qrData = `${process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\"}/feedback/${Date.now()}`\r\n        break\r\n      case \"LIVE_STREAM\":\r\n        qrData = contentData.url || \"\"\r\n        break\r\n      case \"EMAIL\":\r\n        // Format mailto: avec sujet et corps\r\n        const emailParams = new URLSearchParams()\r\n        if (contentData.subject) emailParams.append(\"subject\", contentData.subject)\r\n        if (contentData.body) emailParams.append(\"body\", contentData.body)\r\n        const emailQuery = emailParams.toString()\r\n        qrData = `mailto:${contentData.email}${emailQuery ? `?${emailQuery}` : \"\"}`\r\n        break\r\n      case \"SMS\":\r\n        // Format sms: avec message\r\n        const smsMessage = contentData.message ? encodeURIComponent(contentData.message) : \"\"\r\n        qrData = `sms:${contentData.phone.replace(/\\D/g, \"\")}${smsMessage ? `?body=${smsMessage}` : \"\"}`\r\n        break\r\n      case \"LOCATION\":\r\n        // Format geo: pour les coordonn√©es GPS\r\n        const lat = contentData.latitude\r\n        const lon = contentData.longitude\r\n        const geoName = contentData.name ? encodeURIComponent(contentData.name) : \"\"\r\n        qrData = `geo:${lat},${lon}${geoName ? `?q=${geoName}` : \"\"}`\r\n        break\r\n      case \"PHONE\":\r\n        // Format tel: pour les num√©ros de t√©l√©phone\r\n        qrData = `tel:${contentData.phone.replace(/\\D/g, \"\")}`\r\n        break\r\n      case \"BITCOIN\":\r\n        // Format bitcoin: pour les adresses Bitcoin\r\n        const btcParams = new URLSearchParams()\r\n        if (contentData.amount) btcParams.append(\"amount\", contentData.amount)\r\n        if (contentData.label) btcParams.append(\"label\", contentData.label)\r\n        if (contentData.message) btcParams.append(\"message\", contentData.message)\r\n        const btcQuery = btcParams.toString()\r\n        qrData = `bitcoin:${contentData.address}${btcQuery ? `?${btcQuery}` : \"\"}`\r\n        break\r\n      case \"EVENTBRITE\":\r\n        qrData = contentData.url || \"\"\r\n        break\r\n    }\r\n\r\n    if (!qrData) return\r\n\r\n    // Valider et corriger les couleurs hexad√©cimales\r\n    const isValidHexColor = (color: string): boolean => {\r\n      if (!color || color === \"#\") return false\r\n      return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color)\r\n    }\r\n\r\n    let color = customData.color || \"#000000\"\r\n    let backgroundColor = customData.backgroundColor || \"#FFFFFF\"\r\n    const pixelShape = customData.pixelShape || \"square\"\r\n\r\n    if (!isValidHexColor(color)) {\r\n      color = \"#000000\"\r\n    }\r\n    if (!isValidHexColor(backgroundColor)) {\r\n      backgroundColor = \"#FFFFFF\"\r\n    }\r\n\r\n    console.log(\"G√©n√©ration preview avec:\", { color, backgroundColor, pixelShape, hasLogo: !!logoPreview })\r\n\r\n    // G√©n√©rer le QR code avec les options de personnalisation\r\n    try {\r\n      const response = await fetch(\"/api/qrcodes/generate-preview\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          data: qrData,\r\n          color: color,\r\n          backgroundColor: backgroundColor,\r\n          pixelShape: pixelShape,\r\n          logoBase64: logoPreview || null, // Envoyer le logo en base64 pour la preview\r\n        }),\r\n      })\r\n\r\n      const result = await response.json()\r\n      if (result.success) {\r\n        setQrPreview(result.imageUrl)\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la g√©n√©ration de la preview:\", error)\r\n    }\r\n  }, [selectedType, contentForm, customizationForm, logoPreview])\r\n\r\n  // Surveiller tous les changements pour preview dynamique\r\n  const watchedContent = contentForm.watch()\r\n  const watchedCustom = customizationForm.watch()\r\n\r\n  // G√©n√©rer la preview en temps r√©el quand les donn√©es changent (√©tape 3)\r\n  useEffect(() => {\r\n    if (step === 3 && selectedType) {\r\n      const timer = setTimeout(() => {\r\n        generatePreview()\r\n      }, 300) // Debounce pour √©viter trop de requ√™tes\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [\r\n    step, \r\n    selectedType, \r\n    watchedContent,\r\n    watchedCustom.color,\r\n    watchedCustom.backgroundColor,\r\n    watchedCustom.pixelShape,\r\n    logoPreview,\r\n    generatePreview\r\n  ])\r\n\r\n  // Les changements sont d√©j√† surveill√©s par watchedCustom dans useEffect ci-dessus\r\n\r\n  // Mapping entre types de QR codes et templates\r\n  const getTemplateForQRType = (qrType: QRType): TemplateType | null => {\r\n    const mapping: Record<QRType, TemplateType | null> = {\r\n      \"URL\": \"linkpage\",\r\n      \"PDF\": \"linkpage\",\r\n      \"IMAGE\": \"linkpage\",\r\n      \"VIDEO\": \"linkpage\",\r\n      \"TEXT\": \"profil\",\r\n      \"GUEST_CARD\": \"mariage\",\r\n      \"WHATSAPP\": \"whatsapp\",\r\n      \"SOCIAL\": \"profil\", // L'utilisateur choisira ensuite YouTube/Instagram/Facebook\r\n      \"MENU\": \"linkpage\",\r\n      \"WIFI\": \"wifi\",\r\n      \"PROGRAM\": \"billet\",\r\n      \"VCARD\": \"vcard\",\r\n      \"COUPON\": \"offre\",\r\n      \"PLAYLIST\": \"linkpage\",\r\n      \"GALLERY\": \"linkpage\",\r\n      \"FEEDBACK\": \"linkpage\",\r\n      \"LIVE_STREAM\": \"concert\",\r\n      \"EMAIL\": \"entreprise\",\r\n      \"SMS\": \"profil\",\r\n      \"LOCATION\": \"localisation\",\r\n      \"PHONE\": \"entreprise\",\r\n      \"BITCOIN\": \"linkpage\",\r\n      \"EVENTBRITE\": \"eventticket\",\r\n    }\r\n    return mapping[qrType] || null\r\n  }\r\n\r\n  const { setSelectedTemplate: setTemplateType } = useQRTemplateStore()\r\n\r\n  const handleTypeSelect = (type: QRType) => {\r\n    setSelectedType(type)\r\n    \r\n    // V√©rifier si un template existe pour ce type\r\n    const templateType = getTemplateForQRType(type)\r\n    if (templateType) {\r\n      // Basculer automatiquement vers le mode template\r\n      setUseTemplateSystem(true)\r\n      setTemplateType(templateType)\r\n    } else {\r\n      // Mode classique\r\n      setUseTemplateSystem(false)\r\n      setTemplateType(null)\r\n    }\r\n    \r\n    // Initialiser les valeurs par d√©faut selon le type\r\n    const defaultValues: any = {}\r\n    if (type === \"MENU\") {\r\n      defaultValues.items = [{ name: \"\", description: \"\", price: \"\", allergens: \"\" }]\r\n    } else if (type === \"PROGRAM\") {\r\n      defaultValues.events = [{ time: \"\", title: \"\", description: \"\", location: \"\" }]\r\n    } else if (type === \"FEEDBACK\") {\r\n      defaultValues.questions = [{ question: \"\", type: \"rating\" }]\r\n    }\r\n    contentForm.reset(defaultValues)\r\n  }\r\n\r\n  const handleNext = async () => {\r\n    if (step === 1) {\r\n      if (!selectedType) {\r\n        toast.error(\"Veuillez s√©lectionner un type de QR code\")\r\n        return\r\n      }\r\n      setStep(2)\r\n    } else if (step === 2) {\r\n      const isValid = await contentForm.trigger()\r\n      if (isValid) {\r\n        setStep(3)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleBack = () => {\r\n    if (step > 1) {\r\n      setStep(step - 1)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const isContentValid = await contentForm.trigger()\r\n    const isCustomValid = await customizationForm.trigger()\r\n\r\n    if (!isContentValid || !isCustomValid) {\r\n      toast.error(\"Veuillez remplir tous les champs requis\")\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      const contentData = contentForm.getValues()\r\n      const customData = customizationForm.getValues()\r\n\r\n      // Pr√©parer les donn√©es selon le type\r\n      let qrData = \"\"\r\n      const formData = new FormData()\r\n\r\n      switch (selectedType) {\r\n        case \"URL\":\r\n          qrData = contentData.url\r\n          break\r\n        case \"PDF\":\r\n          formData.append(\"pdfFile\", contentData.pdfFile)\r\n          qrData = \"PDF_FILE\" // Sera remplac√© par l'URL apr√®s upload\r\n          break\r\n        case \"IMAGE\":\r\n          contentData.images.forEach((img: File) => {\r\n            formData.append(\"images\", img)\r\n          })\r\n          qrData = \"IMAGES_FILES\" // Sera remplac√© par l'URL apr√®s upload\r\n          break\r\n        case \"VIDEO\":\r\n          qrData = contentData.videoUrl\r\n          break\r\n        case \"TEXT\":\r\n          qrData = contentData.text\r\n          break\r\n        case \"GUEST_CARD\":\r\n          qrData = JSON.stringify({\r\n            firstName: contentData.firstName,\r\n            lastName: contentData.lastName,\r\n            table: contentData.table,\r\n          })\r\n          break\r\n        case \"WHATSAPP\":\r\n          const whatsappMessage = contentData.message ? encodeURIComponent(contentData.message) : \"\"\r\n          qrData = `https://wa.me/${contentData.phone.replace(/\\D/g, \"\")}${whatsappMessage ? `?text=${whatsappMessage}` : \"\"}`\r\n          break\r\n        case \"SOCIAL\":\r\n          const socialUrls: Record<string, string> = {\r\n            facebook: `https://facebook.com/${contentData.username}`,\r\n            instagram: `https://instagram.com/${contentData.username}`,\r\n            twitter: `https://twitter.com/${contentData.username}`,\r\n            linkedin: `https://linkedin.com/in/${contentData.username}`,\r\n            youtube: `https://youtube.com/@${contentData.username}`,\r\n            tiktok: `https://tiktok.com/@${contentData.username}`,\r\n          }\r\n          qrData = socialUrls[contentData.platform] || \"\"\r\n          break\r\n        case \"MENU\":\r\n          // Pour le menu, on encode les donn√©es JSON et on g√©n√®re une URL\r\n          qrData = JSON.stringify({\r\n            type: \"menu\",\r\n            title: contentData.title,\r\n            items: contentData.items || [],\r\n          })\r\n          break\r\n        case \"WIFI\":\r\n          // Format Wi-Fi: WIFI:T:WPA2;S:SSID;P:Password;;\r\n          const security = contentData.security || \"WPA2\"\r\n          const ssid = contentData.ssid || \"\"\r\n          const password = contentData.password || \"\"\r\n          qrData = `WIFI:T:${security};S:${ssid};P:${password};;`\r\n          break\r\n        case \"PROGRAM\":\r\n          // Pour le programme, on encode les donn√©es JSON\r\n          qrData = JSON.stringify({\r\n            type: \"program\",\r\n            title: contentData.title,\r\n            events: contentData.events || [],\r\n          })\r\n          break\r\n        case \"VCARD\":\r\n          // Format vCard\r\n          const vcard = [\r\n            \"BEGIN:VCARD\",\r\n            \"VERSION:3.0\",\r\n            `FN:${contentData.firstName || \"\"} ${contentData.lastName || \"\"}`,\r\n            `N:${contentData.lastName || \"\"};${contentData.firstName || \"\"};;;`,\r\n            contentData.organization ? `ORG:${contentData.organization}` : \"\",\r\n            contentData.title ? `TITLE:${contentData.title}` : \"\",\r\n            contentData.email ? `EMAIL:${contentData.email}` : \"\",\r\n            contentData.phone ? `TEL:${contentData.phone}` : \"\",\r\n            contentData.website ? `URL:${contentData.website}` : \"\",\r\n            contentData.address ? `ADR:;;${contentData.address};;;;` : \"\",\r\n            \"END:VCARD\"\r\n          ].filter(Boolean).join(\"\\n\")\r\n          qrData = vcard\r\n          break\r\n        case \"COUPON\":\r\n          // Pour le coupon, on encode les donn√©es JSON\r\n          qrData = JSON.stringify({\r\n            type: \"coupon\",\r\n            code: contentData.code,\r\n            discount: contentData.discount,\r\n            discountType: contentData.type,\r\n            expiresAt: contentData.expiresAt,\r\n            description: contentData.description,\r\n          })\r\n          break\r\n        case \"PLAYLIST\":\r\n          qrData = contentData.url || \"\"\r\n          break\r\n        case \"GALLERY\":\r\n          // Pour la galerie, on encode les donn√©es JSON\r\n          qrData = JSON.stringify({\r\n            type: \"gallery\",\r\n            title: contentData.title,\r\n            allowUpload: contentData.allowUpload,\r\n          })\r\n          break\r\n        case \"FEEDBACK\":\r\n          // Pour le feedback, on encode les donn√©es JSON\r\n          qrData = JSON.stringify({\r\n            type: \"feedback\",\r\n            title: contentData.title,\r\n            questions: contentData.questions || [],\r\n          })\r\n          break\r\n        case \"LIVE_STREAM\":\r\n          qrData = contentData.url || \"\"\r\n          break\r\n        case \"EMAIL\":\r\n          // Format mailto: avec sujet et corps\r\n          const emailParams = new URLSearchParams()\r\n          if (contentData.subject) emailParams.append(\"subject\", contentData.subject)\r\n          if (contentData.body) emailParams.append(\"body\", contentData.body)\r\n          const emailQuery = emailParams.toString()\r\n          qrData = `mailto:${contentData.email}${emailQuery ? `?${emailQuery}` : \"\"}`\r\n          break\r\n        case \"SMS\":\r\n          // Format sms: avec message\r\n          const smsMessage = contentData.message ? encodeURIComponent(contentData.message) : \"\"\r\n          qrData = `sms:${contentData.phone.replace(/\\D/g, \"\")}${smsMessage ? `?body=${smsMessage}` : \"\"}`\r\n          break\r\n        case \"LOCATION\":\r\n          // Format geo: pour les coordonn√©es GPS\r\n          const lat = contentData.latitude\r\n          const lon = contentData.longitude\r\n          const geoName = contentData.name ? encodeURIComponent(contentData.name) : \"\"\r\n          qrData = `geo:${lat},${lon}${geoName ? `?q=${geoName}` : \"\"}`\r\n          break\r\n        case \"PHONE\":\r\n          // Format tel: pour les num√©ros de t√©l√©phone\r\n          qrData = `tel:${contentData.phone.replace(/\\D/g, \"\")}`\r\n          break\r\n        case \"BITCOIN\":\r\n          // Format bitcoin: pour les adresses Bitcoin\r\n          const btcParams = new URLSearchParams()\r\n          if (contentData.amount) btcParams.append(\"amount\", contentData.amount)\r\n          if (contentData.label) btcParams.append(\"label\", contentData.label)\r\n          if (contentData.message) btcParams.append(\"message\", contentData.message)\r\n          const btcQuery = btcParams.toString()\r\n          qrData = `bitcoin:${contentData.address}${btcQuery ? `?${btcQuery}` : \"\"}`\r\n          break\r\n        case \"EVENTBRITE\":\r\n          qrData = contentData.url || \"\"\r\n          break\r\n      }\r\n\r\n      // Ajouter les donn√©es de personnalisation\r\n      formData.append(\"type\", selectedType!)\r\n      formData.append(\"name\", customData.name)\r\n      formData.append(\"data\", qrData)\r\n      formData.append(\"color\", customData.color)\r\n      formData.append(\"backgroundColor\", customData.backgroundColor)\r\n      formData.append(\"pixelShape\", customData.pixelShape)\r\n      if (customData.folderId) {\r\n        formData.append(\"folderId\", customData.folderId)\r\n      }\r\n      if (customData.logoFile) {\r\n        formData.append(\"logoFile\", customData.logoFile)\r\n      }\r\n\r\n      const response = await fetch(\"/api/qrcodes/generate\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      })\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success) {\r\n        toast.success(\"QR code g√©n√©r√© avec succ√®s!\", {\r\n          description: \"Votre QR code a √©t√© cr√©√© et sauvegard√©\",\r\n        })\r\n        onQRCodeCreated?.()\r\n        onOpenChange(false)\r\n      } else {\r\n        toast.error(\"Erreur\", {\r\n          description: result.error || \"Impossible de g√©n√©rer le QR code\",\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur:\", error)\r\n      toast.error(\"Erreur\", {\r\n        description: \"Une erreur est survenue lors de la g√©n√©ration\",\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  // Rendre la page de landing personnalisable dans le t√©l√©phone\r\n  const renderLandingPage = () => {\r\n    // Utiliser watch() pour les mises √† jour en temps r√©el\r\n    const contentData = contentForm.watch()\r\n    const config = landingPageConfig\r\n\r\n    // R√©cup√©rer les donn√©es selon le type\r\n    let displayName = config.name || contentData.firstName || contentData.name || \"Nom\"\r\n    let displayTitle = config.title || contentData.title || contentData.lastName || \"Titre\"\r\n    let displayDescription = config.description || contentData.description || contentData.text || \"\"\r\n\r\n    if (selectedType === \"VCARD\") {\r\n      displayName = `${contentData.firstName || \"\"} ${contentData.lastName || \"\"}`.trim() || displayName\r\n      displayTitle = contentData.title || displayTitle\r\n      displayDescription = contentData.organization ? `Chez ${contentData.organization}` : displayDescription\r\n    } else if (selectedType === \"GUEST_CARD\") {\r\n      displayName = `${contentData.firstName || \"\"} ${contentData.lastName || \"\"}`.trim() || displayName\r\n      displayTitle = contentData.table ? `Table ${contentData.table}` : displayTitle\r\n    }\r\n\r\n    return (\r\n      <div \r\n        className=\"w-full h-full flex flex-col overflow-y-auto\"\r\n        style={{ \r\n          backgroundColor: config.backgroundColor,\r\n          color: config.textColor \r\n        }}\r\n      >\r\n        {/* Header avec image de profil */}\r\n        <div className=\"flex flex-col items-center pt-12 pb-6 px-6\">\r\n          {config.profileImage ? (\r\n            <img \r\n              src={config.profileImage} \r\n              alt=\"Profile\" \r\n              className=\"w-24 h-24 rounded-full border-4 border-white/30 shadow-lg mb-4 object-cover\"\r\n            />\r\n          ) : (\r\n            <div className=\"w-24 h-24 rounded-full bg-white/20 border-4 border-white/30 shadow-lg mb-4 flex items-center justify-center\">\r\n              <User className=\"w-12 h-12\" style={{ color: config.textColor, opacity: 0.7 }} />\r\n            </div>\r\n          )}\r\n          <h1 className=\"text-2xl font-bold text-center mb-2\">{displayName}</h1>\r\n          {displayTitle && (\r\n            <p className=\"text-base text-center opacity-90\">{displayTitle}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Ic√¥nes de contact */}\r\n        <div className=\"flex justify-center gap-4 px-6 mb-6\">\r\n          {config.showPhone && config.phone && (\r\n            <a href={`tel:${config.phone}`} className=\"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition\">\r\n              <Phone className=\"w-6 h-6\" />\r\n            </a>\r\n          )}\r\n          {config.showEmail && config.email && (\r\n            <a href={`mailto:${config.email}`} className=\"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition\">\r\n              <Mail className=\"w-6 h-6\" />\r\n            </a>\r\n          )}\r\n          {config.showLocation && config.location && (\r\n            <a href={`geo:${config.location}`} className=\"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition\">\r\n              <MapPin className=\"w-6 h-6\" />\r\n            </a>\r\n          )}\r\n        </div>\r\n\r\n        {/* Description */}\r\n        {displayDescription && (\r\n          <div className=\"px-6 mb-6\">\r\n            <p className=\"text-sm text-center opacity-90 leading-relaxed\">\r\n              {displayDescription}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* R√©seaux sociaux */}\r\n        {config.showSocial && config.socialLinks.length > 0 && (\r\n          <div className=\"px-6 mb-6\">\r\n            <div className=\"flex justify-center gap-3 flex-wrap\">\r\n              {config.socialLinks.map((link, idx) => (\r\n                <a \r\n                  key={idx}\r\n                  href={link.url} \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition\"\r\n                >\r\n                  <Share2 className=\"w-5 h-5\" />\r\n                </a>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Informations de contact en bas */}\r\n        <div className=\"mt-auto px-6 pb-8\">\r\n          {config.showPhone && config.phone && (\r\n            <div className=\"flex items-center gap-3 mb-3\">\r\n              <Phone className=\"w-5 h-5 opacity-80\" />\r\n              <span className=\"text-sm\">{config.phone}</span>\r\n            </div>\r\n          )}\r\n          {config.showEmail && config.email && (\r\n            <div className=\"flex items-center gap-3\">\r\n              <Mail className=\"w-5 h-5 opacity-80\" />\r\n              <span className=\"text-sm\">{config.email}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderStep1 = () => (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full\">\r\n      {/* Colonne gauche : Types de QR */}\r\n      <div className=\"space-y-6 order-2 lg:order-1 flex flex-col h-full min-h-0\">\r\n        <div className=\"flex-shrink-0\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n            1. Choisissez le type de QR code\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            S√©lectionnez le type de contenu que vous souhaitez encoder\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex-1 min-h-0 overflow-y-auto pr-2 drawer-scrollbar\">\r\n          <div className=\"grid grid-cols-3 gap-4 pb-4\">\r\n          {QR_TYPES.map((type) => {\r\n            const hasTemplate = getTemplateForQRType(type.id) !== null\r\n            return (\r\n            <Card\r\n              key={type.id}\r\n              className={`cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg ${\r\n                selectedType === type.id\r\n                  ? \"ring-2 ring-primary shadow-lg\"\r\n                  : \"hover:border-primary/50\"\r\n              }`}\r\n              onClick={() => handleTypeSelect(type.id)}\r\n            >\r\n              <CardContent className=\"p-4 flex flex-col items-center justify-center space-y-2 h-full\">\r\n                <div\r\n                  className={`p-3 rounded-lg bg-gradient-to-br ${type.color} text-white shadow-md`}\r\n                >\r\n                  {type.icon}\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"font-semibold text-sm text-gray-900 dark:text-white\">\r\n                    {type.label}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                    {type.description}\r\n                  </p>\r\n                </div>\r\n                {selectedType === type.id && (\r\n                  <Badge className=\"mt-2 bg-primary text-white\">\r\n                    <Check className=\"h-3 w-3 mr-1\" />\r\n                    S√©lectionn√©\r\n                  </Badge>\r\n                )}\r\n                {hasTemplate && (\r\n                  <Badge className=\"mt-1 bg-green-500 text-white text-xs\">\r\n                    üì± Template\r\n                  </Badge>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n            )\r\n          })}\r\n        </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Colonne droite : Preview mobile */}\r\n      <div className=\"order-1 lg:order-2 flex items-start justify-center lg:sticky lg:top-0\">\r\n        <div className=\"relative w-[280px] h-[560px] bg-gray-900 rounded-[3rem] p-2 shadow-2xl\">\r\n          <div className=\"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative\">\r\n            {/* Barre de statut */}\r\n            <div className=\"absolute top-0 left-0 right-0 h-8 bg-gray-900 flex items-center justify-between px-6 text-white text-xs font-medium z-10\">\r\n              <span>9:41</span>\r\n              <div className=\"flex items-center gap-1\">\r\n                <div className=\"w-4 h-2 border border-white rounded-sm\">\r\n                  <div className=\"w-full h-full bg-white rounded-sm\"></div>\r\n                </div>\r\n                <div className=\"w-1 h-1 bg-white rounded-full\"></div>\r\n                <div className=\"w-6 h-3 border border-white rounded-sm\">\r\n                  <div className=\"w-4/5 h-full bg-white rounded-sm\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Contenu de l'√©cran */}\r\n            <div className=\"pt-8 h-full overflow-hidden\">\r\n              {selectedType ? (\r\n                renderLandingPage()\r\n              ) : (\r\n                <div className=\"h-full flex items-center justify-center p-6\">\r\n                  <div className=\"text-center text-gray-400\">\r\n                    <QrCode className=\"h-24 w-24 mx-auto mb-2 opacity-50\" />\r\n                    <p className=\"text-sm\">S√©lectionnez un type de QR code</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gray-800 rounded-full\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const renderStep2 = () => {\r\n    if (!selectedType) return null\r\n\r\n    return (\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Colonne gauche : Formulaire */}\r\n        <div className=\"space-y-6 order-2 lg:order-1\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n              2. Remplissez les informations\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {selectedType === \"URL\" && \"Entrez l'URL √† encoder dans le QR code\"}\r\n              {selectedType === \"PDF\" && \"T√©l√©chargez votre fichier PDF (max 5Mo)\"}\r\n              {selectedType === \"IMAGE\" && \"T√©l√©chargez une ou plusieurs images (max 5Mo chacune)\"}\r\n              {selectedType === \"VIDEO\" && \"Entrez l'URL de la vid√©o (YouTube, Vimeo, etc.)\"}\r\n              {selectedType === \"TEXT\" && \"Entrez le texte √† encoder\"}\r\n              {selectedType === \"GUEST_CARD\" && \"Remplissez les informations de la carte d'invit√©\"}\r\n              {selectedType === \"WHATSAPP\" && \"Entrez le num√©ro WhatsApp et optionnellement un message\"}\r\n              {selectedType === \"SOCIAL\" && \"S√©lectionnez le r√©seau social et entrez le nom d'utilisateur\"}\r\n              {selectedType === \"MENU\" && \"Cr√©ez le menu du repas avec les plats et leurs informations\"}\r\n              {selectedType === \"WIFI\" && \"Configurez les informations de connexion Wi-Fi\"}\r\n              {selectedType === \"PROGRAM\" && \"Cr√©ez le programme de l'√©v√©nement avec la timeline\"}\r\n              {selectedType === \"VCARD\" && \"Remplissez les informations de votre carte de visite\"}\r\n              {selectedType === \"COUPON\" && \"Cr√©ez un code promo ou une r√©duction\"}\r\n              {selectedType === \"PLAYLIST\" && \"Partagez votre playlist musicale\"}\r\n              {selectedType === \"GALLERY\" && \"Cr√©ez une galerie photo pour l'√©v√©nement\"}\r\n              {selectedType === \"FEEDBACK\" && \"Cr√©ez un formulaire de satisfaction\"}\r\n              {selectedType === \"LIVE_STREAM\" && \"Configurez le lien de diffusion en direct\"}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n          {selectedType === \"URL\" && (\r\n            <div>\r\n              <Label htmlFor=\"url\">URL</Label>\r\n              <Input\r\n                id=\"url\"\r\n                type=\"url\"\r\n                placeholder=\"https://example.com\"\r\n                {...contentForm.register(\"url\")}\r\n              />\r\n              {contentForm.formState.errors.url && (\r\n                <p className=\"text-sm text-red-500 mt-1\">\r\n                  {contentForm.formState.errors.url.message as string}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"PDF\" && (\r\n            <div>\r\n              <Label htmlFor=\"pdfFile\">Fichier PDF</Label>\r\n              <div className=\"mt-2\">\r\n                <Input\r\n                  id=\"pdfFile\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  onChange={(e) => {\r\n                    const file = e.target.files?.[0]\r\n                    if (file) {\r\n                      if (file.size > 5 * 1024 * 1024) {\r\n                        toast.error(\"Le fichier est trop volumineux (max 5Mo)\")\r\n                        return\r\n                      }\r\n                      contentForm.setValue(\"pdfFile\", file)\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n              {contentForm.formState.errors.pdfFile && (\r\n                <p className=\"text-sm text-red-500 mt-1\">\r\n                  {contentForm.formState.errors.pdfFile.message as string}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"IMAGE\" && (\r\n            <div>\r\n              <Label htmlFor=\"images\">Images</Label>\r\n              <div className=\"mt-2\">\r\n                <Input\r\n                  id=\"images\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={(e) => {\r\n                    const files = Array.from(e.target.files || [])\r\n                    const validFiles = files.filter((file) => {\r\n                      if (file.size > 5 * 1024 * 1024) {\r\n                        toast.error(`${file.name} est trop volumineux (max 5Mo)`)\r\n                        return false\r\n                      }\r\n                      return true\r\n                    })\r\n                    contentForm.setValue(\"images\", validFiles)\r\n                  }}\r\n                />\r\n              </div>\r\n              {contentForm.formState.errors.images && (\r\n                <p className=\"text-sm text-red-500 mt-1\">\r\n                  {contentForm.formState.errors.images.message as string}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"VIDEO\" && (\r\n            <div>\r\n              <Label htmlFor=\"videoUrl\">URL de la vid√©o</Label>\r\n              <Input\r\n                id=\"videoUrl\"\r\n                type=\"url\"\r\n                placeholder=\"https://youtube.com/watch?v=...\"\r\n                {...contentForm.register(\"videoUrl\")}\r\n              />\r\n              {contentForm.formState.errors.videoUrl && (\r\n                <p className=\"text-sm text-red-500 mt-1\">\r\n                  {contentForm.formState.errors.videoUrl.message as string}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"TEXT\" && (\r\n            <div>\r\n              <Label htmlFor=\"text\">Texte</Label>\r\n              <Textarea\r\n                id=\"text\"\r\n                placeholder=\"Entrez votre texte ici...\"\r\n                rows={6}\r\n                {...contentForm.register(\"text\")}\r\n              />\r\n              {contentForm.formState.errors.text && (\r\n                <p className=\"text-sm text-red-500 mt-1\">\r\n                  {contentForm.formState.errors.text.message as string}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"GUEST_CARD\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"firstName\">Pr√©nom</Label>\r\n                <Input\r\n                  id=\"firstName\"\r\n                  placeholder=\"Jean\"\r\n                  {...contentForm.register(\"firstName\")}\r\n                />\r\n                {contentForm.formState.errors.firstName && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.firstName.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"lastName\">Nom</Label>\r\n                <Input\r\n                  id=\"lastName\"\r\n                  placeholder=\"Dupont\"\r\n                  {...contentForm.register(\"lastName\")}\r\n                />\r\n                {contentForm.formState.errors.lastName && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.lastName.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"table\">Num√©ro de table</Label>\r\n                <Input\r\n                  id=\"table\"\r\n                  placeholder=\"Table 12\"\r\n                  {...contentForm.register(\"table\")}\r\n                />\r\n                {contentForm.formState.errors.table && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.table.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"WHATSAPP\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"phone\">Num√©ro WhatsApp</Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  type=\"tel\"\r\n                  placeholder=\"+33612345678\"\r\n                  {...contentForm.register(\"phone\")}\r\n                />\r\n                {contentForm.formState.errors.phone && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.phone.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"message\">Message (optionnel)</Label>\r\n                <Textarea\r\n                  id=\"message\"\r\n                  placeholder=\"Message pr√©-rempli...\"\r\n                  rows={3}\r\n                  {...contentForm.register(\"message\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"SOCIAL\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"platform\">R√©seau social</Label>\r\n                <Select\r\n                  onValueChange={(value) => contentForm.setValue(\"platform\", value)}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"S√©lectionnez un r√©seau\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"facebook\">Facebook</SelectItem>\r\n                    <SelectItem value=\"instagram\">Instagram</SelectItem>\r\n                    <SelectItem value=\"twitter\">Twitter</SelectItem>\r\n                    <SelectItem value=\"linkedin\">LinkedIn</SelectItem>\r\n                    <SelectItem value=\"youtube\">YouTube</SelectItem>\r\n                    <SelectItem value=\"tiktok\">TikTok</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                {contentForm.formState.errors.platform && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.platform.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"username\">Nom d'utilisateur</Label>\r\n                <Input\r\n                  id=\"username\"\r\n                  placeholder=\"@username\"\r\n                  {...contentForm.register(\"username\")}\r\n                />\r\n                {contentForm.formState.errors.username && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.username.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Formulaires √©v√©nementiels */}\r\n          {selectedType === \"MENU\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"menuTitle\">Titre du menu</Label>\r\n                <Input\r\n                  id=\"menuTitle\"\r\n                  placeholder=\"Menu du repas\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label>Plats du menu</Label>\r\n                <p className=\"text-xs text-gray-500 mb-2\">Ajoutez au moins un plat</p>\r\n                <div className=\"space-y-3\">\r\n                  {contentForm.watch(\"items\")?.map((_: any, index: number) => (\r\n                    <div key={index} className=\"p-3 border rounded-lg space-y-2\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm font-medium\">Plat {index + 1}</span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            const items = contentForm.getValues(\"items\") || []\r\n                            items.splice(index, 1)\r\n                            contentForm.setValue(\"items\", items)\r\n                          }}\r\n                        >\r\n                          <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                      <Input\r\n                        placeholder=\"Nom du plat\"\r\n                        {...contentForm.register(`items.${index}.name`)}\r\n                      />\r\n                      <Textarea\r\n                        placeholder=\"Description (optionnel)\"\r\n                        rows={2}\r\n                        {...contentForm.register(`items.${index}.description`)}\r\n                      />\r\n                      <div className=\"grid grid-cols-2 gap-2\">\r\n                        <Input\r\n                          placeholder=\"Prix (optionnel)\"\r\n                          {...contentForm.register(`items.${index}.price`)}\r\n                        />\r\n                        <Input\r\n                          placeholder=\"Allerg√®nes (optionnel)\"\r\n                          {...contentForm.register(`items.${index}.allergens`)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      const items = contentForm.getValues(\"items\") || []\r\n                      contentForm.setValue(\"items\", [...items, { name: \"\", description: \"\", price: \"\", allergens: \"\" }])\r\n                    }}\r\n                    className=\"w-full\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                    Ajouter un plat\r\n                  </Button>\r\n                </div>\r\n                {contentForm.formState.errors.items && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.items.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"WIFI\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"ssid\">Nom du r√©seau (SSID)</Label>\r\n                <Input\r\n                  id=\"ssid\"\r\n                  placeholder=\"NomDuReseau\"\r\n                  {...contentForm.register(\"ssid\")}\r\n                />\r\n                {contentForm.formState.errors.ssid && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.ssid.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"password\">Mot de passe</Label>\r\n                <Input\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"MotDePasse123\"\r\n                  {...contentForm.register(\"password\")}\r\n                />\r\n                {contentForm.formState.errors.password && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.password.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"security\">Type de s√©curit√©</Label>\r\n                <Select\r\n                  onValueChange={(value) => contentForm.setValue(\"security\", value)}\r\n                  defaultValue=\"WPA2\"\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"WPA\">WPA</SelectItem>\r\n                    <SelectItem value=\"WPA2\">WPA2</SelectItem>\r\n                    <SelectItem value=\"WEP\">WEP</SelectItem>\r\n                    <SelectItem value=\"nopass\">Aucun mot de passe</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"PROGRAM\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"programTitle\">Titre du programme</Label>\r\n                <Input\r\n                  id=\"programTitle\"\r\n                  placeholder=\"Programme de l'√©v√©nement\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label>√âv√©nements du programme</Label>\r\n                <p className=\"text-xs text-gray-500 mb-2\">Ajoutez au moins un √©v√©nement</p>\r\n                <div className=\"space-y-3\">\r\n                  {contentForm.watch(\"events\")?.map((_: any, index: number) => (\r\n                    <div key={index} className=\"p-3 border rounded-lg space-y-2\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm font-medium\">√âv√©nement {index + 1}</span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            const events = contentForm.getValues(\"events\") || []\r\n                            events.splice(index, 1)\r\n                            contentForm.setValue(\"events\", events)\r\n                          }}\r\n                        >\r\n                          <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                      <div className=\"grid grid-cols-2 gap-2\">\r\n                        <Input\r\n                          type=\"time\"\r\n                          placeholder=\"Heure\"\r\n                          {...contentForm.register(`events.${index}.time`)}\r\n                        />\r\n                        <Input\r\n                          placeholder=\"Lieu (optionnel)\"\r\n                          {...contentForm.register(`events.${index}.location`)}\r\n                        />\r\n                      </div>\r\n                      <Input\r\n                        placeholder=\"Titre de l'√©v√©nement\"\r\n                        {...contentForm.register(`events.${index}.title`)}\r\n                      />\r\n                      <Textarea\r\n                        placeholder=\"Description (optionnel)\"\r\n                        rows={2}\r\n                        {...contentForm.register(`events.${index}.description`)}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      const events = contentForm.getValues(\"events\") || []\r\n                      contentForm.setValue(\"events\", [...events, { time: \"\", title: \"\", description: \"\", location: \"\" }])\r\n                    }}\r\n                    className=\"w-full\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                    Ajouter un √©v√©nement\r\n                  </Button>\r\n                </div>\r\n                {contentForm.formState.errors.events && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.events.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"VCARD\" && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label htmlFor=\"vcardFirstName\">Pr√©nom</Label>\r\n                  <Input\r\n                    id=\"vcardFirstName\"\r\n                    placeholder=\"Jean\"\r\n                    {...contentForm.register(\"firstName\")}\r\n                  />\r\n                  {contentForm.formState.errors.firstName && (\r\n                    <p className=\"text-sm text-red-500 mt-1\">\r\n                      {contentForm.formState.errors.firstName.message as string}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"vcardLastName\">Nom</Label>\r\n                  <Input\r\n                    id=\"vcardLastName\"\r\n                    placeholder=\"Dupont\"\r\n                    {...contentForm.register(\"lastName\")}\r\n                  />\r\n                  {contentForm.formState.errors.lastName && (\r\n                    <p className=\"text-sm text-red-500 mt-1\">\r\n                      {contentForm.formState.errors.lastName.message as string}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"organization\">Entreprise</Label>\r\n                <Input\r\n                  id=\"organization\"\r\n                  placeholder=\"Nom de l'entreprise\"\r\n                  {...contentForm.register(\"organization\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"vcardTitle\">Poste</Label>\r\n                <Input\r\n                  id=\"vcardTitle\"\r\n                  placeholder=\"Directeur\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"vcardEmail\">Email</Label>\r\n                <Input\r\n                  id=\"vcardEmail\"\r\n                  type=\"email\"\r\n                  placeholder=\"jean.dupont@example.com\"\r\n                  {...contentForm.register(\"email\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"vcardPhone\">T√©l√©phone</Label>\r\n                <Input\r\n                  id=\"vcardPhone\"\r\n                  type=\"tel\"\r\n                  placeholder=\"+33612345678\"\r\n                  {...contentForm.register(\"phone\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"website\">Site web</Label>\r\n                <Input\r\n                  id=\"website\"\r\n                  type=\"url\"\r\n                  placeholder=\"https://example.com\"\r\n                  {...contentForm.register(\"website\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"address\">Adresse</Label>\r\n                <Input\r\n                  id=\"address\"\r\n                  placeholder=\"123 Rue Example, Paris\"\r\n                  {...contentForm.register(\"address\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"COUPON\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"couponCode\">Code promo</Label>\r\n                <Input\r\n                  id=\"couponCode\"\r\n                  placeholder=\"PROMO2024\"\r\n                  {...contentForm.register(\"code\")}\r\n                />\r\n                {contentForm.formState.errors.code && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.code.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label htmlFor=\"discount\">R√©duction</Label>\r\n                  <Input\r\n                    id=\"discount\"\r\n                    placeholder=\"10\"\r\n                    {...contentForm.register(\"discount\")}\r\n                  />\r\n                  {contentForm.formState.errors.discount && (\r\n                    <p className=\"text-sm text-red-500 mt-1\">\r\n                      {contentForm.formState.errors.discount.message as string}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"discountType\">Type</Label>\r\n                  <Select\r\n                    onValueChange={(value) => contentForm.setValue(\"type\", value)}\r\n                    defaultValue=\"percentage\"\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"percentage\">Pourcentage (%)</SelectItem>\r\n                      <SelectItem value=\"amount\">Montant (‚Ç¨)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"couponExpires\">Date d'expiration (optionnel)</Label>\r\n                <Input\r\n                  id=\"couponExpires\"\r\n                  type=\"date\"\r\n                  {...contentForm.register(\"expiresAt\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"couponDescription\">Description</Label>\r\n                <Textarea\r\n                  id=\"couponDescription\"\r\n                  placeholder=\"Conditions d'utilisation...\"\r\n                  rows={3}\r\n                  {...contentForm.register(\"description\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"PLAYLIST\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"playlistTitle\">Titre de la playlist</Label>\r\n                <Input\r\n                  id=\"playlistTitle\"\r\n                  placeholder=\"Ma playlist\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"playlistPlatform\">Plateforme</Label>\r\n                <Select\r\n                  onValueChange={(value) => contentForm.setValue(\"platform\", value)}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"S√©lectionnez une plateforme\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"spotify\">Spotify</SelectItem>\r\n                    <SelectItem value=\"youtube\">YouTube</SelectItem>\r\n                    <SelectItem value=\"apple\">Apple Music</SelectItem>\r\n                    <SelectItem value=\"custom\">Lien personnalis√©</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                {contentForm.formState.errors.platform && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.platform.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"playlistUrl\">URL de la playlist</Label>\r\n                <Input\r\n                  id=\"playlistUrl\"\r\n                  type=\"url\"\r\n                  placeholder=\"https://open.spotify.com/playlist/...\"\r\n                  {...contentForm.register(\"url\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"GALLERY\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"galleryTitle\">Titre de la galerie</Label>\r\n                <Input\r\n                  id=\"galleryTitle\"\r\n                  placeholder=\"Galerie photo de l'√©v√©nement\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"galleryImages\">Images (optionnel)</Label>\r\n                <Input\r\n                  id=\"galleryImages\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={(e) => {\r\n                    const files = Array.from(e.target.files || [])\r\n                    contentForm.setValue(\"images\", files)\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"LIVE_STREAM\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"streamTitle\">Titre du stream</Label>\r\n                <Input\r\n                  id=\"streamTitle\"\r\n                  placeholder=\"Diffusion en direct\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"streamPlatform\">Plateforme</Label>\r\n                <Select\r\n                  onValueChange={(value) => contentForm.setValue(\"platform\", value)}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"S√©lectionnez une plateforme\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"youtube\">YouTube Live</SelectItem>\r\n                    <SelectItem value=\"zoom\">Zoom</SelectItem>\r\n                    <SelectItem value=\"teams\">Microsoft Teams</SelectItem>\r\n                    <SelectItem value=\"custom\">Lien personnalis√©</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                {contentForm.formState.errors.platform && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.platform.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"streamUrl\">URL du stream</Label>\r\n                <Input\r\n                  id=\"streamUrl\"\r\n                  type=\"url\"\r\n                  placeholder=\"https://youtube.com/live/...\"\r\n                  {...contentForm.register(\"url\")}\r\n                />\r\n                {contentForm.formState.errors.url && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.url.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"streamInstructions\">Instructions (optionnel)</Label>\r\n                <Textarea\r\n                  id=\"streamInstructions\"\r\n                  placeholder=\"Comment se connecter...\"\r\n                  rows={3}\r\n                  {...contentForm.register(\"instructions\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"FEEDBACK\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"feedbackTitle\">Titre du formulaire</Label>\r\n                <Input\r\n                  id=\"feedbackTitle\"\r\n                  placeholder=\"Formulaire de satisfaction\"\r\n                  {...contentForm.register(\"title\")}\r\n                />\r\n                {contentForm.formState.errors.title && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.title.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label>Questions</Label>\r\n                <p className=\"text-xs text-gray-500 mb-2\">Ajoutez au moins une question</p>\r\n                <div className=\"space-y-3\">\r\n                  {contentForm.watch(\"questions\")?.map((_: any, index: number) => (\r\n                    <div key={index} className=\"p-3 border rounded-lg space-y-2\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm font-medium\">Question {index + 1}</span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            const questions = contentForm.getValues(\"questions\") || []\r\n                            questions.splice(index, 1)\r\n                            contentForm.setValue(\"questions\", questions)\r\n                          }}\r\n                        >\r\n                          <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                      <Input\r\n                        placeholder=\"Votre question\"\r\n                        {...contentForm.register(`questions.${index}.question`)}\r\n                      />\r\n                      <Select\r\n                        onValueChange={(value) => contentForm.setValue(`questions.${index}.type`, value)}\r\n                        defaultValue=\"rating\"\r\n                      >\r\n                        <SelectTrigger>\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"rating\">Note (√©toiles)</SelectItem>\r\n                          <SelectItem value=\"text\">Texte libre</SelectItem>\r\n                          <SelectItem value=\"choice\">Choix multiple</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                  ))}\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      const questions = contentForm.getValues(\"questions\") || []\r\n                      contentForm.setValue(\"questions\", [...questions, { question: \"\", type: \"rating\" }])\r\n                    }}\r\n                    className=\"w-full\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                    Ajouter une question\r\n                  </Button>\r\n                </div>\r\n                {contentForm.formState.errors.questions && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.questions.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"EMAIL\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"email\">Adresse email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"contact@example.com\"\r\n                  {...contentForm.register(\"email\")}\r\n                />\r\n                {contentForm.formState.errors.email && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.email.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"emailSubject\">Sujet (optionnel)</Label>\r\n                <Input\r\n                  id=\"emailSubject\"\r\n                  placeholder=\"Sujet de l'email\"\r\n                  {...contentForm.register(\"subject\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"emailBody\">Message (optionnel)</Label>\r\n                <Textarea\r\n                  id=\"emailBody\"\r\n                  placeholder=\"Corps de l'email\"\r\n                  rows={3}\r\n                  {...contentForm.register(\"body\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"SMS\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"smsPhone\">Num√©ro de t√©l√©phone</Label>\r\n                <Input\r\n                  id=\"smsPhone\"\r\n                  type=\"tel\"\r\n                  placeholder=\"+33612345678\"\r\n                  {...contentForm.register(\"phone\")}\r\n                />\r\n                {contentForm.formState.errors.phone && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.phone.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"smsMessage\">Message (optionnel)</Label>\r\n                <Textarea\r\n                  id=\"smsMessage\"\r\n                  placeholder=\"Votre message\"\r\n                  rows={3}\r\n                  {...contentForm.register(\"message\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"LOCATION\" && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label htmlFor=\"latitude\">Latitude</Label>\r\n                  <Input\r\n                    id=\"latitude\"\r\n                    type=\"text\"\r\n                    placeholder=\"48.8566\"\r\n                    {...contentForm.register(\"latitude\")}\r\n                  />\r\n                  {contentForm.formState.errors.latitude && (\r\n                    <p className=\"text-sm text-red-500 mt-1\">\r\n                      {contentForm.formState.errors.latitude.message as string}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"longitude\">Longitude</Label>\r\n                  <Input\r\n                    id=\"longitude\"\r\n                    type=\"text\"\r\n                    placeholder=\"2.3522\"\r\n                    {...contentForm.register(\"longitude\")}\r\n                  />\r\n                  {contentForm.formState.errors.longitude && (\r\n                    <p className=\"text-sm text-red-500 mt-1\">\r\n                      {contentForm.formState.errors.longitude.message as string}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"locationName\">Nom du lieu (optionnel)</Label>\r\n                <Input\r\n                  id=\"locationName\"\r\n                  placeholder=\"Tour Eiffel\"\r\n                  {...contentForm.register(\"name\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"PHONE\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"phoneNumber\">Num√©ro de t√©l√©phone</Label>\r\n                <Input\r\n                  id=\"phoneNumber\"\r\n                  type=\"tel\"\r\n                  placeholder=\"+33612345678\"\r\n                  {...contentForm.register(\"phone\")}\r\n                />\r\n                {contentForm.formState.errors.phone && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.phone.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"BITCOIN\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"bitcoinAddress\">Adresse Bitcoin</Label>\r\n                <Input\r\n                  id=\"bitcoinAddress\"\r\n                  placeholder=\"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa\"\r\n                  {...contentForm.register(\"address\")}\r\n                />\r\n                {contentForm.formState.errors.address && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.address.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"bitcoinAmount\">Montant (optionnel)</Label>\r\n                <Input\r\n                  id=\"bitcoinAmount\"\r\n                  type=\"number\"\r\n                  step=\"0.00000001\"\r\n                  placeholder=\"0.001\"\r\n                  {...contentForm.register(\"amount\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"bitcoinLabel\">Label (optionnel)</Label>\r\n                <Input\r\n                  id=\"bitcoinLabel\"\r\n                  placeholder=\"Paiement\"\r\n                  {...contentForm.register(\"label\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"bitcoinMessage\">Message (optionnel)</Label>\r\n                <Textarea\r\n                  id=\"bitcoinMessage\"\r\n                  placeholder=\"Message pour le paiement\"\r\n                  rows={2}\r\n                  {...contentForm.register(\"message\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === \"EVENTBRITE\" && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"eventbriteUrl\">URL de l'√©v√©nement</Label>\r\n                <Input\r\n                  id=\"eventbriteUrl\"\r\n                  type=\"url\"\r\n                  placeholder=\"https://eventbrite.com/e/...\"\r\n                  {...contentForm.register(\"url\")}\r\n                />\r\n                {contentForm.formState.errors.url && (\r\n                  <p className=\"text-sm text-red-500 mt-1\">\r\n                    {contentForm.formState.errors.url.message as string}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Colonne droite : Preview mobile */}\r\n        <div className=\"order-1 lg:order-2 flex items-center justify-center\">\r\n          <div className=\"relative w-[280px] h-[560px] bg-gray-900 rounded-[3rem] p-2 shadow-2xl\">\r\n            <div className=\"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative\">\r\n              {/* Barre de statut */}\r\n              <div className=\"absolute top-0 left-0 right-0 h-8 bg-gray-900 flex items-center justify-between px-6 text-white text-xs font-medium z-10\">\r\n                <span>9:41</span>\r\n                <div className=\"flex items-center gap-1\">\r\n                  <div className=\"w-4 h-2 border border-white rounded-sm\">\r\n                    <div className=\"w-full h-full bg-white rounded-sm\"></div>\r\n                  </div>\r\n                  <div className=\"w-1 h-1 bg-white rounded-full\"></div>\r\n                  <div className=\"w-6 h-3 border border-white rounded-sm\">\r\n                    <div className=\"w-4/5 h-full bg-white rounded-sm\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Contenu de l'√©cran - Landing page personnalis√©e */}\r\n              <div className=\"pt-8 h-full overflow-hidden\">\r\n                {renderLandingPage()}\r\n              </div>\r\n            </div>\r\n            <div className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gray-800 rounded-full\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderStep3 = () => (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n          Personnalisez l'apparence\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n          Choisissez les couleurs, ajoutez un logo et personnalisez les formes\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Colonne gauche : Options */}\r\n        <div className=\"space-y-6 order-2 lg:order-1\">\r\n          <div>\r\n            <Label htmlFor=\"name\">Nom du QR code</Label>\r\n            <Input\r\n              id=\"name\"\r\n              placeholder=\"Mon QR code\"\r\n              {...customizationForm.register(\"name\")}\r\n            />\r\n            {customizationForm.formState.errors.name && (\r\n              <p className=\"text-sm text-red-500 mt-1\">\r\n                {customizationForm.formState.errors.name.message as string}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"folderId\">Dossier (optionnel)</Label>\r\n            <Select\r\n              onValueChange={(value) => customizationForm.setValue(\"folderId\", value)}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Aucun dossier\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {folders.map((folder) => (\r\n                  <SelectItem key={folder.id} value={folder.id}>\r\n                    {folder.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <Label htmlFor=\"color\">Couleur du QR</Label>\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <Input\r\n                  id=\"color\"\r\n                  type=\"color\"\r\n                  className=\"w-16 h-10 cursor-pointer\"\r\n                  value={customizationForm.watch(\"color\") || \"#000000\"}\r\n                  onChange={(e) => {\r\n                    const newColor = e.target.value\r\n                    customizationForm.setValue(\"color\", newColor)\r\n                    // Mise √† jour automatique de la preview\r\n                    setTimeout(() => generatePreview(), 100)\r\n                  }}\r\n                />\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"#000000\"\r\n                  pattern=\"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\"\r\n                  value={customizationForm.watch(\"color\") || \"#000000\"}\r\n                  onChange={(e) => {\r\n                    const newColor = e.target.value\r\n                    customizationForm.setValue(\"color\", newColor)\r\n                    // Mise √† jour automatique de la preview\r\n                    setTimeout(() => generatePreview(), 300)\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"backgroundColor\">Couleur de fond</Label>\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <Input\r\n                  id=\"backgroundColor\"\r\n                  type=\"color\"\r\n                  className=\"w-16 h-10 cursor-pointer\"\r\n                  value={customizationForm.watch(\"backgroundColor\") || \"#FFFFFF\"}\r\n                  onChange={(e) => {\r\n                    const newColor = e.target.value\r\n                    customizationForm.setValue(\"backgroundColor\", newColor)\r\n                    // Mise √† jour automatique de la preview\r\n                    setTimeout(() => generatePreview(), 100)\r\n                  }}\r\n                />\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"#FFFFFF\"\r\n                  pattern=\"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\"\r\n                  value={customizationForm.watch(\"backgroundColor\") || \"#FFFFFF\"}\r\n                  onChange={(e) => {\r\n                    const newColor = e.target.value\r\n                    customizationForm.setValue(\"backgroundColor\", newColor)\r\n                    // Mise √† jour automatique de la preview\r\n                    setTimeout(() => generatePreview(), 300)\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"logoFile\">Logo au centre (optionnel, max 5Mo)</Label>\r\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\r\n              Le logo sera upload√© uniquement lors de la validation finale\r\n            </p>\r\n            <Input\r\n              id=\"logoFile\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={(e) => {\r\n                const file = e.target.files?.[0]\r\n                if (file) {\r\n                  handleLogoUpload(file)\r\n                  // Mise √† jour automatique de la preview avec le logo (pr√©visualisation locale uniquement)\r\n                  setTimeout(() => generatePreview(), 200)\r\n                } else {\r\n                  setLogoPreview(null)\r\n                  customizationForm.setValue(\"logoFile\", undefined)\r\n                  // Mise √† jour automatique de la preview sans logo\r\n                  setTimeout(() => generatePreview(), 200)\r\n                }\r\n              }}\r\n            />\r\n            {logoPreview && (\r\n              <div className=\"mt-2 p-2 border rounded-lg bg-gray-50 dark:bg-gray-800\">\r\n                <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">Aper√ßu du logo (pr√©visualisation locale) :</p>\r\n                <img \r\n                  src={logoPreview} \r\n                  alt=\"Logo preview\" \r\n                  className=\"w-16 h-16 object-contain rounded\"\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  className=\"mt-2 text-xs\"\r\n                  onClick={() => {\r\n                    setLogoPreview(null)\r\n                    customizationForm.setValue(\"logoFile\", undefined)\r\n                    const input = document.getElementById(\"logoFile\") as HTMLInputElement\r\n                    if (input) input.value = \"\"\r\n                    // Mise √† jour automatique de la preview sans logo\r\n                    setTimeout(() => generatePreview(), 200)\r\n                  }}\r\n                >\r\n                  <X className=\"h-3 w-3 mr-1\" />\r\n                  Supprimer\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <Label>Forme des pixels</Label>\r\n            <div className=\"flex gap-2 mt-2\">\r\n              {([\"square\", \"round\", \"mixed\"] as const).map((shape) => (\r\n                <Button\r\n                  key={shape}\r\n                  type=\"button\"\r\n                  variant={\r\n                    customizationForm.watch(\"pixelShape\") === shape\r\n                      ? \"default\"\r\n                      : \"outline\"\r\n                  }\r\n                  onClick={() => {\r\n                    customizationForm.setValue(\"pixelShape\", shape)\r\n                    // Mise √† jour automatique de la preview\r\n                    setTimeout(() => generatePreview(), 100)\r\n                  }}\r\n                  className=\"flex-1\"\r\n                >\r\n                  {shape === \"square\" && <Square className=\"h-4 w-4 mr-2\" />}\r\n                  {shape === \"round\" && <Circle className=\"h-4 w-4 mr-2\" />}\r\n                  {shape === \"mixed\" && <Shapes className=\"h-4 w-4 mr-2\" />}\r\n                  {shape === \"square\" && \"Carr√©\"}\r\n                  {shape === \"round\" && \"Rond\"}\r\n                  {shape === \"mixed\" && \"Mixte\"}\r\n                </Button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Personnalisation de la landing page */}\r\n          <div className=\"pt-6 border-t\">\r\n            <h4 className=\"text-md font-semibold mb-4\">Personnaliser la page de destination</h4>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label htmlFor=\"landingBgColor\">Couleur de fond</Label>\r\n                  <div className=\"flex gap-2 mt-2\">\r\n                    <Input\r\n                      id=\"landingBgColor\"\r\n                      type=\"color\"\r\n                      className=\"w-16 h-10 cursor-pointer\"\r\n                      value={landingPageConfig.backgroundColor}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, backgroundColor: e.target.value })\r\n                      }}\r\n                    />\r\n                    <Input\r\n                      type=\"text\"\r\n                      value={landingPageConfig.backgroundColor}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, backgroundColor: e.target.value })\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"landingTextColor\">Couleur du texte</Label>\r\n                  <div className=\"flex gap-2 mt-2\">\r\n                    <Input\r\n                      id=\"landingTextColor\"\r\n                      type=\"color\"\r\n                      className=\"w-16 h-10 cursor-pointer\"\r\n                      value={landingPageConfig.textColor}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, textColor: e.target.value })\r\n                      }}\r\n                    />\r\n                    <Input\r\n                      type=\"text\"\r\n                      value={landingPageConfig.textColor}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, textColor: e.target.value })\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"landingName\">Nom</Label>\r\n                <Input\r\n                  id=\"landingName\"\r\n                  placeholder=\"John Carlson\"\r\n                  value={landingPageConfig.name}\r\n                  onChange={(e) => {\r\n                    setLandingPageConfig({ ...landingPageConfig, name: e.target.value })\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"landingTitle\">Titre</Label>\r\n                <Input\r\n                  id=\"landingTitle\"\r\n                  placeholder=\"Gestionnaire de compte\"\r\n                  value={landingPageConfig.title}\r\n                  onChange={(e) => {\r\n                    setLandingPageConfig({ ...landingPageConfig, title: e.target.value })\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"landingDescription\">Description</Label>\r\n                <Textarea\r\n                  id=\"landingDescription\"\r\n                  placeholder=\"En tant que gestionnaire de comptes...\"\r\n                  rows={3}\r\n                  value={landingPageConfig.description}\r\n                  onChange={(e) => {\r\n                    setLandingPageConfig({ ...landingPageConfig, description: e.target.value })\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Informations √† afficher</Label>\r\n                <div className=\"grid grid-cols-2 gap-3 mt-2\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"showPhone\"\r\n                      checked={landingPageConfig.showPhone}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, showPhone: e.target.checked })\r\n                      }}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <Label htmlFor=\"showPhone\" className=\"cursor-pointer\">T√©l√©phone</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"showEmail\"\r\n                      checked={landingPageConfig.showEmail}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, showEmail: e.target.checked })\r\n                      }}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <Label htmlFor=\"showEmail\" className=\"cursor-pointer\">Email</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"showLocation\"\r\n                      checked={landingPageConfig.showLocation}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, showLocation: e.target.checked })\r\n                      }}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <Label htmlFor=\"showLocation\" className=\"cursor-pointer\">Localisation</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"showSocial\"\r\n                      checked={landingPageConfig.showSocial}\r\n                      onChange={(e) => {\r\n                        setLandingPageConfig({ ...landingPageConfig, showSocial: e.target.checked })\r\n                      }}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <Label htmlFor=\"showSocial\" className=\"cursor-pointer\">R√©seaux sociaux</Label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {landingPageConfig.showPhone && (\r\n                <div>\r\n                  <Label htmlFor=\"landingPhone\">Num√©ro de t√©l√©phone</Label>\r\n                  <Input\r\n                    id=\"landingPhone\"\r\n                    type=\"tel\"\r\n                    placeholder=\"555-100-1000\"\r\n                    value={landingPageConfig.phone}\r\n                    onChange={(e) => {\r\n                      setLandingPageConfig({ ...landingPageConfig, phone: e.target.value })\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {landingPageConfig.showEmail && (\r\n                <div>\r\n                  <Label htmlFor=\"landingEmail\">Email</Label>\r\n                  <Input\r\n                    id=\"landingEmail\"\r\n                    type=\"email\"\r\n                    placeholder=\"john@example.com\"\r\n                    value={landingPageConfig.email}\r\n                    onChange={(e) => {\r\n                      setLandingPageConfig({ ...landingPageConfig, email: e.target.value })\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {landingPageConfig.showLocation && (\r\n                <div>\r\n                  <Label htmlFor=\"landingLocation\">Localisation</Label>\r\n                  <Input\r\n                    id=\"landingLocation\"\r\n                    placeholder=\"Paris, France\"\r\n                    value={landingPageConfig.location}\r\n                    onChange={(e) => {\r\n                      setLandingPageConfig({ ...landingPageConfig, location: e.target.value })\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <Label htmlFor=\"landingProfileImage\">Image de profil (optionnel)</Label>\r\n                <Input\r\n                  id=\"landingProfileImage\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => {\r\n                    const file = e.target.files?.[0]\r\n                    if (file) {\r\n                      const reader = new FileReader()\r\n                      reader.onload = (event) => {\r\n                        setLandingPageConfig({ \r\n                          ...landingPageConfig, \r\n                          profileImage: event.target?.result as string \r\n                        })\r\n                      }\r\n                      reader.readAsDataURL(file)\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Colonne droite : Preview avec t√©l√©phone */}\r\n        <div className=\"order-1 lg:order-2\">\r\n          <Label>Aper√ßu mobile</Label>\r\n          <div className=\"mt-2 flex items-center justify-center\">\r\n            {/* T√©l√©phone mockup */}\r\n            <div className=\"relative w-[280px] h-[560px] bg-gray-900 rounded-[3rem] p-2 shadow-2xl\">\r\n              {/* √âcran du t√©l√©phone */}\r\n              <div className=\"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative\">\r\n                {/* Barre de statut */}\r\n                <div className=\"absolute top-0 left-0 right-0 h-8 bg-gray-900 flex items-center justify-between px-6 text-white text-xs font-medium z-10\">\r\n                  <span>9:41</span>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <div className=\"w-4 h-2 border border-white rounded-sm\">\r\n                      <div className=\"w-full h-full bg-white rounded-sm\"></div>\r\n                    </div>\r\n                    <div className=\"w-1 h-1 bg-white rounded-full\"></div>\r\n                    <div className=\"w-6 h-3 border border-white rounded-sm\">\r\n                      <div className=\"w-4/5 h-full bg-white rounded-sm\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Contenu de l'√©cran - Landing page personnalis√©e */}\r\n                <div className=\"pt-8 h-full overflow-hidden\">\r\n                  {renderLandingPage()}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Bouton home (iPhone) */}\r\n              <div className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gray-800 rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Sheet open={open} onOpenChange={onOpenChange}>\r\n      <SheetContent\r\n        side=\"right\"\r\n        className={`w-full sm:max-w-[90vw] lg:max-w-[90vw] p-0 flex flex-col bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 [&>button]:hidden overflow-hidden transition-all duration-300`}\r\n      >\r\n        {/* En-t√™te */}\r\n        <div className=\"relative flex-shrink-0 px-6 py-5 bg-gradient-to-r from-primary/5 via-primary/3 to-accent/5 border-b border-primary/10 dark:from-primary/20 dark:via-primary/10 dark:to-accent/20\">\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer\" />\r\n          <div className=\"flex items-start justify-between relative z-10\">\r\n            <div className=\"space-y-1.5\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"p-2 rounded-lg bg-gradient-to-br from-primary to-accent shadow-lg\">\r\n                  <QrCode className=\"h-5 w-5 text-white\" />\r\n                </div>\r\n                <SheetTitle className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\r\n                  G√©n√©rateur QR\r\n                </SheetTitle>\r\n              </div>\r\n              <SheetDescription className=\"text-sm text-gray-600 dark:text-gray-400 ml-12\">\r\n                {useTemplateSystem ? 'Mode Template' : `√âtape ${step} sur 3`}\r\n              </SheetDescription>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setUseTemplateSystem(!useTemplateSystem)}\r\n                className={`px-3 py-1.5 rounded-lg text-xs font-medium transition ${\r\n                  useTemplateSystem\r\n                    ? 'bg-primary text-white'\r\n                    : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\r\n                }`}\r\n              >\r\n                {useTemplateSystem ? 'üì± Templates' : '‚öôÔ∏è Classique'}\r\n              </button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={() => onOpenChange(false)}\r\n                className=\"h-9 w-9 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenu scrollable */}\r\n        <div className=\"flex-1 min-h-0 overflow-y-auto px-6 py-6 drawer-scrollbar\">\r\n          {useTemplateSystem ? (\r\n            <TemplateBuilder />\r\n          ) : (\r\n            <>\r\n              {step === 1 && renderStep1()}\r\n              {step === 2 && renderStep2()}\r\n              {step === 3 && renderStep3()}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer avec navigation */}\r\n        {!useTemplateSystem && (\r\n          <div className=\"relative flex-shrink-0 border-t border-primary/10 px-6 py-5 bg-gradient-to-r from-white via-primary/5 to-accent/5 dark:from-gray-900 dark:via-primary/10 dark:to-accent/10 backdrop-blur-sm\">\r\n            <div className=\"flex gap-3 relative z-10\">\r\n              {step > 1 && (\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={handleBack}\r\n                  className=\"flex-1 h-11\"\r\n                >\r\n                  <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                  Pr√©c√©dent\r\n                </Button>\r\n              )}\r\n              {step < 3 ? (\r\n                <Button\r\n                  onClick={handleNext}\r\n                  className=\"flex-1 h-11 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg hover:shadow-xl\"\r\n                >\r\n                  Suivant\r\n                  <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  onClick={handleSubmit}\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 h-11 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg hover:shadow-xl disabled:opacity-50\"\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      G√©n√©ration...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Sparkles className=\"h-4 w-4 mr-2\" />\r\n                      G√©n√©rer le QR code\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </SheetContent>\r\n    </Sheet>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}